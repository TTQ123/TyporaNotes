# Vue2

## 1.vueæ˜¯ä»€ä¹ˆ

![image-20230814163453506](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814163453506.png)

![image-20230814163623307](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814163623307.png)



### 1.Vueå®ä¾‹

![image-20230814220326676](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814220326676.png)



### 2.å·®å€¼è¡¨è¾¾å¼

![image-20230814221524306](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814221524306.png)



### 3.å“åº”æ€§æ•°æ®

![image-20230814222849718](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814222849718.png)

![image-20230814222924906](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814222924906.png)



### 4.å¼€å‘è€…è°ƒè¯•å·¥å…·

![image-20230814224246303](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814224246303.png)

**dataçš„å€¼ä¸èƒ½æ˜¯å…¨ä¸­æ–‡çš„ï¼Œä¸ç„¶åœ¨vueè°ƒè¯•å·¥å…·æ˜¯ä¸èƒ½æ˜¾ç¤ºçš„**

## 

## 2.vueæŒ‡ä»¤

### 1.v-html

![image-20230814225503014](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814225503014.png)

![image-20230814225440172](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814225440172.png)



### 2.v-showå’Œv-if

![image-20230814225938647](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814225938647.png)



### 3.v-else å’Œ v-else-if

![image-20230814230328875](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814230328875.png)

![image-20230814230341349](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814230341349.png)



### 4.v-on

![image-20230814231114383](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814231114383.png)

**vue2ä¸­ï¼Œdataå£°æ˜çš„æ•°æ®(é€‰é¡¹å¼API)åªèƒ½åœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨ï¼Œæ— æ³•åœ¨methodsä¸­ä½¿ç”¨ï¼Œéœ€è¦é€šè¿‡ `å®ä¾‹.æ•°æ®` æˆ–è€… `this.æ•°æ®` æ¥è·å–**

![image-20230814232043669](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814232043669.png)

**v-onå‚æ•°ä¼ é€’**

![image-20230814233338386](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814233338386.png)





#### 1.vue2å’Œvue3ä¸­thisçš„åŒºåˆ«

**VUE3ä¸­å·²ç»æ²¡æœ‰äº†thisï¼Œå› ä¸ºä»–ç”¨çš„æ˜¯ç»„åˆå¼APIï¼Œæƒ³è¦thiså¯ä»¥ç”¨refå»ä»£æ›¿è·å–åˆ°æ•°æ®çš„å€¼ï¼Œæˆ–è€…æ˜¯getCurrentInstanceï¼ˆï¼‰æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›äº†ctxå’Œproxy**

![image-20230814232841350](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814232841350.png)

![image-20230814232924467](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814232924467.png)

![image-20230814232931803](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230814232931803.png)



### 5.v-bind

![image-20230815002417092](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815002417092.png)

**v-bindæ›´å¤šçš„è¿˜æ˜¯ç”¨åœ¨çˆ¶å­ç»„ä»¶ä¼ å€¼**

#### 1.v-bindåŸç†

![image-20230815204932840](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815204932840.png)



### 6.v-for

![image-20230815193800694](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815193800694.png)

**`v-for`çš„é»˜è®¤è¡Œä¸ºä¼šå°è¯•åŸåœ°ä¿®æ”¹å…ƒç´ (å°±åœ°å¤ç”¨)**

![image-20230815202811035](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815202811035.png)

```bash
å¦‚æœæˆ‘ä»¬ä¸åŠ keyï¼Œä»–ä¼šæŠŠæœ€åä¸€ä¸ªåˆ é™¤ï¼Œç„¶åæŠŠå…¶å®ƒçš„å¾€å‰é¢æ¨ã€‚
```



### 7.v-model

![image-20230815203439655](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815203439655.png)

![image-20230815203501447](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815203501447.png)

#### 1.vue2ä¸­v-modelåŸç†

![image-20230815204412500](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815204412500.png)

```apl
v-bindç»‘å®šäº†åŒå‘æ•°æ®,è¿™æ ·å®Œæˆç¬¬ä¸€æ­¥ æ•°æ®å˜åŒ–-->è§†å›¾æ›´æ–°
@inputäº‹ä»¶å®Œæˆç¬¬äºŒæ­¥ è§†å›¾å˜åŒ–-->æ•°æ®æ›´æ–°
```



#### 2.vue3ä¸­v-modelåŸç†

![image-20230815204432257](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815204432257.png)



### 8.ç¬¬ä¸€å¤©æ¡ˆä¾‹:è®°äº‹æœ¬

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #app {
            width: 400px;
            margin: 50px auto;
        }
    </style>
</head>

<body>
    <div id="app">
        <header class="header">
            <h1>å°é»‘è®°äº‹æœ¬</h1>
            <input type="text" placeholder="è¯·è¾“å…¥ä»»åŠ¡" class="new-todo" v-model="todoName">
            <button class="add" @click="add">æ·»åŠ ä»»åŠ¡</button>
        </header>
        <section class="main">
            <ul class="todo-list">
                <li class="todo" v-for="(item,index) in list">
                    <div class="view">
                        <!-- ç”¨indexä¸ä¼šå½±å“åºå· -->
                        <span class="index">{{index + 1}}</span> <label>{{item.name}}</label>
                        <button class="destroy" @click="del(item.id)">åˆ é™¤ä»»åŠ¡</button>
                    </div>
                </li>
            </ul>
        </section>
        <footer class="footer" v-show="list.length > 0">
            <div class="todo-count">
                åˆ è®¡:<strong> {{list.length}} </strong>
                <button class="clear-complated" @click="delAll">æ¸…ç©ºä»»åŠ¡</button>
            </div>
            
        </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
    <script>
        const app = new Vue({
            el: '#app',
            data: {
                todoName:'',
                list: [
                    { id: 1, name: 'è·‘æ­¥ä¸€å…¬é‡Œ' },
                    { id: 2, name: 'è·³ç»³ä¸€ç™¾æ¬¡' },
                    { id: 3, name: 'è·³è¿œåæ¬¡' }
                ]
            },
            methods: {
                del(id) {
                    this.list = this.list.filter(item => item.id !== id)
                },
                add(){
                    if (this.todoName.trim() === '') {
                        alert('è¯·è¾“å…¥ä»»åŠ¡åç§°')
                        return
                    }
                    this.list.unshift({
                        id:new Date(),
                        name:this.todoName
                    })
                    this.todoName = ''
                },

                delAll(){
                    this.list = []
                }
            }
        })
    </script>
</body>

</html>
```



### 9.æŒ‡ä»¤çš„ä¿®é¥°ç¬¦

![image-20230815220627608](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815220627608.png)

**ä¿®é¥°ç¬¦åŸç†**

![image-20230815221048560](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815221048560.png)

**@äº‹ä»¶å.stopçš„åŸç†**

![image-20230815221341970](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815221341970.png)



### 10.v-bindå¯¹äºcssæ ·å¼çš„æ§åˆ¶(æ“ä½œcsså’Œstyle)

#### 1.æ“ä½œcss

![image-20230815221829159](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815221829159.png)

**è¿™ä¸ªclssæ˜¯åœ¨styleæ ·å¼é‡Œé¢å£°æ˜äº†ï¼Œå¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨**

**ä¾‹å­**

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .active {
            color: pink;
        }
    </style>
</head>

<body>
    <div id="app">
       <ul>
        <li v-for="(item,index) in list" :key="item.id" @mouseover="activeIndex = index">
            <a :class="{active: index === activeIndex}">{{item.name}}</a>
        </li>
       </ul>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
    <script>
        const app = new Vue({
            el: '#app',
            data: {
                activeIndex:0,
                list: [
                    { id: 1, name: 'äº¬ä¸œç§’æ€' },
                    { id: 2, name: 'ç™¾åº¦ç§’æ€' },
                    { id: 3, name: 'è‹¦ç“œç§’æ€' }
                ]
            },
            methods: {
               
            }
        })
    </script>
</body>

</html>
```



#### 2.æ“ä½œstyle

![image-20230815223633057](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815223633057.png)

![image-20230815223603274](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815223603274.png)



### 11.v-modelåº”ç”¨äºå…¶å®ƒè¡¨å•å…ƒç´ 

![image-20230815230255021](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815230255021.png)

![image-20230815230308602](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815230308602.png)

![image-20230815230322284](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815230322284.png)



## 3.vueè®¡ç®—å±æ€§

### 1.ç®€ä»‹

![image-20230815231130840](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815231130840.png)

![image-20230815231031536](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815231031536.png)



### 2.computerå’Œmethodsçš„å·®å¼‚

![image-20230815231552012](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815231552012.png)

![image-20230815231415682](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815231415682.png)



### 3.è®¡ç®—å±æ€§çš„å®Œæ•´å†™æ³•(è¯»å–å’Œä¿®æ”¹)

![image-20230815231733101](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230815231733101.png)

ä¾‹å­ï¼šè®¡ç®—å±æ€§çš„è·å–å’Œä¿®æ”¹

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="app">
        <div>
            å§“:<span>{{firstName}}</span>+å:<span>{{lastName}}</span> = {{fullName}}
            <br>
            <button  @click="changeName">æ”¹å</button>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
    <script>
        const app = new Vue({
            el: '#app',
            data: {
               firstName:'åˆ˜',
               lastName:'å¤‡'
            },
            methods: {
               changeName(){
                this.fullName = 'å¼ é£'
               }
            },
            computed:{
                fullName:{
                    get(){
                        return this.firstName + this.lastName
                    },
                    set(value){
                        // å½“ç‚¹å‡»äº†äº‹ä»¶changeName fullNameå°†è¢«ä¿®æ”¹åŒæ—¶ä¼ ç»™setçš„valueå½¢å‚
                        this.firstName = value.slice(0,1)
                        this.lastName = value.slice(1)
                    }
                }

            }
        })
    </script>
</body>

</html>
```



### 4.ç¬¬äºŒå¤©æ¡ˆä¾‹:æˆç»©æ¡ˆä¾‹

![image-20230816002534273](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230816002534273.png)

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./index.css" />
    <title>Document</title>
</head>

<body>
    <div id="app" class="score-case">
        <div class="table">
            <table>
                <thead>
                    <tr>
                        <th>ç¼–å·</th>
                        <th>ç§‘ç›®</th>
                        <th>æˆç»©</th>
                        <th>æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody v-if="list.length > 0">
                    <tr v-for="(item,index) in list" :key="item.id">
                        <td>{{index+1}}</td>
                        <td>{{item.subject}}</td>
                        <td :class="{red: item.score < 60}">{{item.score}}</td>
                        <td><a @click.prevent="del(item.id)" href="#">åˆ é™¤</a></td>
                    </tr>
                </tbody>
                <tbody v-else>
                    <tr>
                        <td colspan="4">
                            <span class="none">æš‚æ— æ•°æ®</span>
                        </td>
                    </tr>
                </tbody>

                <tfoot>
                    <tr>
                        <td colspan="4">
                            <span>æ€»åˆ†:{{totalScore}}</span>
                            <span style="margin-left: 50px">å¹³å‡åˆ†:{{totalAvg}}</span>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
        <div class="form">
            <div class="form-item">
                <div class="label">ç§‘ç›®:</div>
                <div class="input">
                    <input type="text" placeholder="è¯·è¾“å…¥ç§‘ç›®" v-model.trim="subject" />
                </div>
            </div>
            <div class="form-item">
                <div class="label">åˆ†æ•°:</div>
                <div class="input">
                    <input type="text" placeholder="è¯·è¾“å…¥åˆ†æ•°" v-model.number="score" />
                </div>
            </div>
            <div class="form-item">
                <div class="label"></div>
                <div class="input">
                    <button class="submit" @click="add">æ·»åŠ </button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

    <script>
        const app = new Vue({
            el: '#app',
            data: {
                list: [
                    { id: 1, subject: 'è¯­æ–‡', score: 20 },
                    { id: 7, subject: 'æ•°å­¦', score: 99 },
                    { id: 12, subject: 'è‹±è¯­', score: 70 },
                ],
                subject: '',
                score: ''
            },
            methods: {
                del(id) {
                    // itemå°±æ˜¯éå†çš„æ•´ä¸ªæ•°ç»„ ç›¸ç­‰çš„é‚£ä¸ªè¢«åˆ é™¤äº†
                    this.list = this.list.filter(item => item.id !== id)
                },
                add() {
                    if (!this.subject) {
                        alert('è¯·è¾“å…¥ç§‘ç›®')
                    }
                    if (typeof this.score !== 'number') {
                        alert('è¯·è¾“å…¥æ­£ç¡®çš„å†…å®¹')
                        return
                    }
                    this.list.unshift({
                        id: +new Date(),
                        subject: this.subject,
                        score: this.score
                    })
                    this.subject = ''
                    this.score = ''
                }
            },
            computed: {
                // è®¡ç®—æ€»åˆ†
                totalScore() {
                    // ç¬¬ä¸€é¡¹æ˜¯è®¡ç®—æ€»åˆ†ï¼Œç¬¬äºŒé¡¹æ˜¯ä»0å¼€å§‹çš„æ„æ€
                    return this.list.reduce((sum, item) => sum + item.score, 0)
                },
                // è®¡ç®—å¹³å‡åˆ†
                totalAvg() {
                    // æ€»åˆ†ä¸º0 å¹³å‡åˆ†ä¹Ÿä¸º0
                    if (this.totalScore === 0) {
                        return 0
                    }
                    return (this.totalScore / this.list.length).toFixed(2)
                }

            }
        })
    </script>
</body>

</html>
```



## 4.watchä¾¦å¬å™¨

### 1.watchç®€å†™ ç›‘å¬ç®€å•æ•°æ®ç±»å‹

![image-20230816004920526](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230816004920526.png)

### 2.watchå®Œæ•´å†™æ³• ç›‘å¬å¤æ‚ç±»å‹

![uTools_1692118075672](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/uTools_1692118075672.png)

![uTools_1692118054267](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/uTools_1692118054267.png)

### 3.ä¾‹å­ å®æ—¶ç¿»è¯‘åŠŸèƒ½

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-size: 18px;
        }

        #app {
            padding: 10px 20px;
        }

        .query {
            margin: 10px 0;
        }

        .box {
            display: flex;
        }

        textarea {
            width: 300px;
            height: 160px;
            font-size: 18px;
            border: 1px solid #dedede;
            outline: none;
            resize: none;
            padding: 10px;
        }

        textarea:hover {
            border: 1px solid #1589f5;
        }

        .transbox {
            width: 300px;
            height: 160px;
            background-color: #f0f0f0;
            padding: 10px;
            border: none;
        }

        .tip-box {
            width: 300px;
            height: 25px;
            line-height: 25px;
            display: flex;
        }

        .tip-box span {
            flex: 1;
            text-align: center;
        }

        .query span {
            font-size: 18px;
        }

        .input-wrap {
            position: relative;
        }

        .input-wrap span {
            position: absolute;
            right: 15px;
            bottom: 15px;
            font-size: 12px;
        }

        .input-wrap i {
            font-size: 20px;
            font-style: normal;
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- æ¡ä»¶é€‰æ‹©æ¡† -->
        <div class="query">
            <span>ç¿»è¯‘æˆçš„è¯­è¨€ï¼š</span>
            <select v-model="obj.lang">
                <option value="italy">æ„å¤§åˆ©</option>
                <option value="english">è‹±è¯­</option>
                <option value="german">å¾·è¯­</option>
            </select>
        </div>

        <!-- ç¿»è¯‘æ¡† -->
        <div class="box">
            <div class="input-wrap">
                <textarea v-model="obj.words"></textarea>
                <span><i>âŒ¨ï¸</i>æ–‡æ¡£ç¿»è¯‘</span>
            </div>
            <div class="output-wrap">
                <div class="transbox">{{ result }}</div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        // éœ€æ±‚ï¼šè¾“å…¥å†…å®¹ï¼Œä¿®æ”¹è¯­è¨€ï¼Œéƒ½å®æ—¶ç¿»è¯‘

        // æ¥å£åœ°å€ï¼šhttps://applet-base-api-t.itheima.net/api/translate
        // è¯·æ±‚æ–¹å¼ï¼šget
        // è¯·æ±‚å‚æ•°ï¼š
        // ï¼ˆ1ï¼‰wordsï¼šéœ€è¦è¢«ç¿»è¯‘çš„æ–‡æœ¬ï¼ˆå¿…ä¼ ï¼‰
        // ï¼ˆ2ï¼‰langï¼š éœ€è¦è¢«ç¿»è¯‘æˆçš„è¯­è¨€ï¼ˆå¯é€‰ï¼‰é»˜è®¤å€¼-æ„å¤§åˆ©

        const app = new Vue({
            el: '#app',
            data: {
                // å¤æ‚æ•°æ®ç±»å‹ å¯¹è±¡ç±»å‹
                obj: {
                    words: 'å°é»‘',
                    lang: 'italy'
                },
                result: '', // ç¿»è¯‘ç»“æœ
            },

            watch: {
                obj: {
                    deep: true,//æ·±åº¦ç›‘è§†
                    immediate: true, // ç«‹åˆ»æ‰§è¡Œï¼Œä¸€è¿›å…¥é¡µé¢handlerå°±ç«‹åˆ»æ‰§è¡Œä¸€æ¬¡
                    // ä½œç”¨æ˜¯ç»™wordä¸€ä¸ªé»˜è®¤å€¼ï¼Œç¬¬ä¸€æ¬¡è¿›é¡µé¢ä¸ä¼šè‡ªåŠ¨ç¿»è¯‘ä¸€æ¬¡(handlerä¸æ‰§è¡Œï¼Œæ•°æ®å˜åŒ–äº†æ‰æ‰§è¡Œ)
                    handler(newValue) {
                        // å¼€å¯é˜²æŠ–:å»¶è¿Ÿæ‰§è¡Œ(è¾“å…¥è‚¯å®šæœ‰å¤šæ¬¡ä¸è¦ä¸€ç›´æ‰§è¡Œ,ä¸€æ®µæ—¶é—´ååœ¨æ‰§è¡Œ)
                        clearTimeout(this.timer) //å¦‚æœåœ¨300æ¯«ç§’å†…è¾“å…¥äº†,é‚£ä¹ˆæˆ‘ä»¬è¦åˆ é™¤å‰é¢é‚£ä¸ªå®šæ—¶å™¨
                        // ä¸ç„¶æ—¶é—´åˆ°äº†è¿˜æ˜¯ä¼šæ‰§è¡Œï¼Œæ§åˆ¶å°ä¼šæ‰§è¡Œå¤šæ¬¡(æˆ‘ä»¬åªè¦ä¸€æ¬¡)
                        this.timer = setTimeout(async () => {
                            // axioså‘é€è¯·æ±‚
                            const res = await axios({
                                url: 'https://applet-base-api-t.itheima.net/api/translate',
                                params: newValue //newValueå…¶å®å°±æ˜¯æ•´ä¸ªobjå¯¹è±¡,ç›´æ¥ä¼ ç»™å‚æ•°è¿›è¡Œç½‘ç»œè¯·æ±‚
                            })
                            this.result = res.data.data //è·å–åˆ°çš„å€¼æ˜¾ç¤ºåˆ°ç¿»è¯‘æ 
                            console.log(res.data.data)
                        }, 300)
                    }
                }
            }
              // watchç®€å•å†™æ³•  
              // 'obj.words' (newValue) {
              //   clearTimeout(this.timer)
              //   this.timer = setTimeout(async () => {
              //     const res = await axios({
              //       url: 'https://applet-base-api-t.itheima.net/api/translate',
              //       params: {
              //         words: newValue
              //       }
              //     })
              //     this.result = res.data.data
              //     console.log(res.data.data)
              //   }, 300)
              // }
        })
    </script>
</body>

</html>
```



### 4.ç»¼åˆä¾‹å­:è´­ç‰©å•†åŸ

![image-20230816021746216](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230816021746216.png)

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/inputnumber.css" />
    <link rel="stylesheet" href="./css/index.css" />
    <title>è´­ç‰©è½¦</title>
</head>

<body>
    <div class="app-container" id="app">
        <!-- é¡¶éƒ¨banner -->
        <div class="banner-box"><img src="http://autumnfish.cn/static/fruit.jpg" alt="" /></div>
        <!-- é¢åŒ…å±‘ -->
        <div class="breadcrumb">
            <span>ğŸ </span>
            /
            <span>è´­ç‰©è½¦</span>
        </div>
        <!-- è´­ç‰©è½¦ä¸»ä½“ -->
        <div class="main" v-if="fruitList.length > 0">
            <div class="table">
                <!-- å¤´éƒ¨ -->
                <div class="thead">
                    <div class="tr">
                        <div class="th">é€‰ä¸­</div>
                        <div class="th th-pic">å›¾ç‰‡</div>
                        <div class="th">å•ä»·</div>
                        <div class="th num-th">ä¸ªæ•°</div>
                        <div class="th">å°è®¡</div>
                        <div class="th">æ“ä½œ</div>
                    </div>
                </div>
                <!-- èº«ä½“ -->
                <div class="tbody">
                    <div class="tr" :class="{active:item.isChecked}" v-for="(item,index) in fruitList" :key="item.id">
                        <div class="td"><input type="checkbox" v-model="item.isChecked" /></div>
                        <div class="td"><img :src="item.icon" /></div>
                        <div class="td">{{ item.price }}</div>
                        <div class="td">
                            <div class="my-input-number">
                                <button class="decrease" @click="sub(item.id)" :disabled="item.num <= 1"> - </button>
                                <span class="my-input__inner">{{item.num}}</span>
                                <button class="increase" @click="add(item.id)"> + </button>
                            </div>
                        </div>
                        <div class="td"> {{ item.num * item.price }}</div>
                        <div class="td"><button @click="del(item.id)">åˆ é™¤</button></div>
                    </div>
                </div>
            </div>
            <!-- åº•éƒ¨ -->
            <div class="bottom">
                <!-- å…¨é€‰ -->
                <label class="check-all">
                    <input type="checkbox" v-model="isAll" />
                    å…¨é€‰
                </label>
                <div class="right-box">
                    <!-- æ‰€æœ‰å•†å“æ€»ä»· -->
                    <span class="price-box">æ€»ä»·&nbsp;&nbsp;:&nbsp;&nbsp;Â¥&nbsp;<span class="price">{{ totalPrice
                            }}</span></span>
                    <!-- ç»“ç®—æŒ‰é’® -->
                    <button class="pay">ç»“ç®—( {{ totalCount }} )</button>
                </div>
            </div>
        </div>
        <!-- ç©ºè½¦ -->
        <div class="empty" v-else>ğŸ›’ç©ºç©ºå¦‚ä¹Ÿ</div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script>
        // é»˜è®¤çš„å€¼
        const defaultArr = [
            {
                id: 1,
                icon: 'http://autumnfish.cn/static/ç«é¾™æœ.png',
                isChecked: true,
                num: 2,
                price: 6,
            },
            {
                id: 2,
                icon: 'http://autumnfish.cn/static/è”æ.png',
                isChecked: false,
                num: 7,
                price: 20,
            },
            {
                id: 3,
                icon: 'http://autumnfish.cn/static/æ¦´è².png',
                isChecked: false,
                num: 3,
                price: 40,
            },
            {
                id: 4,
                icon: 'http://autumnfish.cn/static/é¸­æ¢¨.png',
                isChecked: true,
                num: 10,
                price: 3,
            },
            {
                id: 5,
                icon: 'http://autumnfish.cn/static/æ¨±æ¡ƒ.png',
                isChecked: false,
                num: 20,
                price: 34,
            },
        ]
        const app = new Vue({
            el: '#app',
            data: {
                // æ°´æœåˆ—è¡¨ä»æœ¬åœ°å­˜å‚¨å»å–(è½¬ä¸ºå­—ç¬¦ä¸²) æ²¡æœ‰å€¼çš„æ—¶å€™å°±æ˜¯è¢«ç”¨æˆ·åˆ é™¤ç©äº† ç›´æ¥å»å–é»˜è®¤å€¼
                fruitList: JSON.parse(localStorage.getItem('list')) || defaultArr
            },
            computed: {
                isAll: {
                    get() {
                        // å¿…é¡»æ‰€æœ‰å°é€‰æ¡†éƒ½é€‰æ‹©,å…¨é€‰æŒ‰é’®æ‰é€‰ä¸­ every
                        // æ‰€æœ‰item.isCheckedä¸ºtrue
                        return this.fruitList.every(item => item.isChecked)
                    },
                    // setå¯ä»¥æ‹¿åˆ°isAllè¢«ä¿®æ”¹çš„å€¼ å½“ä½ é‡å¤å‹¾é€‰æŒ‰é’®å°±æ˜¯åœ¨ä¿®æ”¹å€¼ä¼ é€’ç»™value
                    set(value) {
                        console.log(value);
                        // valueæ‹¿åˆ°çš„å°±æ˜¯isAllçš„å€¼æ˜¯trueè¿˜æ˜¯false
                        // foreachç”¨æ¥éå†æ•´ä¸ªæ•°ç»„æ‰§è¡Œä¸€æ¬¡cbå‡½æ•°
                        this.fruitList.forEach(item => item.isChecked = value)
                    }
                },
                // ç»Ÿè®¡é€‰ä¸­çš„æ€»æ•° reduce
                totalCount() {
                    return this.fruitList.reduce((sum, item) => {
                        if (item.isChecked) {
                            // é€‰ä¸­ â†’ éœ€è¦ç´¯åŠ 
                            return sum + item.num
                        } else {
                            // æ²¡é€‰ä¸­ â†’ ä¸éœ€è¦ç´¯åŠ 
                            return sum
                        }
                    }, 0)
                },
                // ç»Ÿè®¡é€‰ä¸­çš„æ€»ä»·
                totalPrice() {
                    return this.fruitList.reduce((sum, item) => {
                        if (item.isChecked) {
                            // é€‰ä¸­ â†’ éœ€è¦ç´¯åŠ 
                            return sum + item.num * item.price
                        } else {
                            // æ²¡é€‰ä¸­ â†’ ä¸éœ€è¦ç´¯åŠ 
                            return sum
                        }
                    }, 0)
                }
            },
            watch: {
                fruitList:{
                    deep: true,
                    handler(newValue) {
                        // å°†å˜åŒ–çš„newValueå­˜å…¥æœ¬åœ°ï¼ˆè½¬ä¸ºJSONï¼‰
                        localStorage.setItem('list', JSON.stringify(newValue))
                    }
                }
            },

            methods: {
                del(id) {
                    this.fruitList = this.fruitList.filter(item => item.id !== id)
                },
                sub(id) {
                    //1.æ ¹æ®id æ‰¾åˆ°æ•°ç»„çš„å¯¹åº”é¡¹ find
                    const fruit = this.fruitList.find(item => item.id === id)
                    //2.ä¿®æ”¹numå€¼
                    fruit.num--
                },
                add(id) {
                    //1.æ ¹æ®id æ‰¾åˆ°æ•°ç»„çš„å¯¹åº”é¡¹ find
                    const fruit = this.fruitList.find(item => item.id === id)
                    //2.ä¿®æ”¹numå€¼
                    fruit.num++
                }
            }
        })
    </script>
</body>

</html>
```



## 5.vue2ç”Ÿå‘½å‘¨æœŸ

### 1.ç®€ä»‹

![image-20230817005605725](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230817005605725.png)



### 2.ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°

![image-20230817010756925](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230817010756925.png)

**ä¾‹å­**

![image-20230817011110254](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230817011110254.png)

![image-20230817011430443](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230817011430443.png)



### 3.createdåº”ç”¨ è¿›å…¥é¡µé¢å°±å¼€å§‹è¯·æ±‚æ•°æ®

![image-20230817011816505](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230817011816505.png)

#### 1.è¡¥å……:å‰ç«¯æ¥æ”¶çš„æ•°æ®

![image-20230817012040278](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230817012040278.png)

![image-20230817012055209](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230817012055209.png)



### 4.mounted è¿›å…¥é¡µé¢è·å–é¼ æ ‡ç„¦ç‚¹

 ![image-20230817012523575](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230817012523575.png)



### 5.ä¾‹å­:é€šè¿‡Echartså®Œæˆå°é»‘è®°è´¦æ¸…å•

![image-20230817022832467](C:\Users\ttq\AppData\Roaming\Typora\typora-user-images\image-20230817022832467.png)

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <!-- CSS only -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" />
  <style>
    .red {
      color: red !important;
    }

    .search {
      width: 300px;
      margin: 20px 0;
    }

    .my-form {
      display: flex;
      margin: 20px 0;
    }

    .my-form input {
      flex: 1;
      margin-right: 20px;
    }

    .table> :not(:first-child) {
      border-top: none;
    }

    .contain {
      display: flex;
      padding: 10px;
    }

    .list-box {
      flex: 1;
      padding: 0 30px;
    }

    .list-box a {
      text-decoration: none;
    }

    .echarts-box {
      width: 600px;
      height: 400px;
      padding: 30px;
      margin: 0 auto;
      border: 1px solid #ccc;
    }

    tfoot {
      font-weight: bold;
    }

    @media screen and (max-width: 1000px) {
      .contain {
        flex-wrap: wrap;
      }

      .list-box {
        width: 100%;
      }

      .echarts-box {
        margin-top: 30px;
      }
    }
  </style>
</head>

<body>
  <div id="app">
    <div class="contain">
      <!-- å·¦ä¾§åˆ—è¡¨ -->
      <div class="list-box">

        <!-- æ·»åŠ èµ„äº§ -->
        <form class="my-form">
          <input type="text" class="form-control" placeholder="æ¶ˆè´¹åç§°" v-model.trim="name" />
          <input type="text" class="form-control" placeholder="æ¶ˆè´¹ä»·æ ¼"  v-model.number="price"/>
          <button type="button" class="btn btn-primary" @click="add">æ·»åŠ è´¦å•</button>
        </form>

        <table class="table table-hover">
          <thead>
            <tr>
              <th>ç¼–å·</th>
              <th>æ¶ˆè´¹åç§°</th>
              <th>æ¶ˆè´¹ä»·æ ¼</th>
              <th>æ“ä½œ</th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="(item,index) in list" :key="item.id">
              <td>{{index+1}}</td>
              <td>{{item.name}}</td>
              <td :class="{red:item.price>500}">{{item.price.toFixed(2)}}</td>
              <td><a href="javascript:;" @click="del(item.id)">åˆ é™¤</a></td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <td colspan="4">æ¶ˆè´¹æ€»è®¡ï¼š {{totalPrice}}</td>
            </tr>
          </tfoot>
        </table>
      </div>

      <!-- å³ä¾§å›¾è¡¨ -->
      <div class="echarts-box" id="main"></div>
    </div>
  </div>
  <script src="../echarts.min.js"></script>
  <script src="../vue.js"></script>
  <script src="../axios.js"></script>
  <script>
    /**
     * æ¥å£æ–‡æ¡£åœ°å€ï¼š
     * https://www.apifox.cn/apidoc/shared-24459455-ebb1-4fdc-8df8-0aff8dc317a8/api-53371058
     * 
     * åŠŸèƒ½éœ€æ±‚ï¼š
     * åŠŸèƒ½éœ€æ±‚ï¼š
       * 1. åŸºæœ¬æ¸²æŸ“
       *    (1) ç«‹åˆ»å‘é€è¯·æ±‚è·å–æ•°æ® created
       *    (2) æ‹¿åˆ°æ•°æ®ï¼Œå­˜åˆ°dataçš„å“åº”å¼æ•°æ®ä¸­
       *    (3) ç»“åˆæ•°æ®ï¼Œè¿›è¡Œæ¸²æŸ“ v-for
       *    (4) æ¶ˆè´¹ç»Ÿè®¡ => è®¡ç®—å±æ€§
       * 2. æ·»åŠ åŠŸèƒ½
       *    (1) æ”¶é›†è¡¨å•æ•°æ® v-model
       *    (2) ç»™æ·»åŠ æŒ‰é’®æ³¨å†Œç‚¹å‡»äº‹ä»¶ï¼Œå‘é€æ·»åŠ è¯·æ±‚
       *    (3) éœ€è¦é‡æ–°æ¸²æŸ“(å‰ç«¯å‘é€äº†è¯·æ±‚ï¼Œåç«¯æ•°æ®å¢åŠ ï¼Œå‰ç«¯é‡æ–°æ¸²æŸ“)
       * 3. åˆ é™¤åŠŸèƒ½
       *    (1) æ³¨å†Œç‚¹å‡»äº‹ä»¶ï¼Œä¼ å‚ä¼  id
       *    (2) æ ¹æ® id å‘é€åˆ é™¤è¯·æ±‚
       *    (3) éœ€è¦é‡æ–°æ¸²æŸ“
       * 4. é¥¼å›¾æ¸²æŸ“
       *    (1) åˆå§‹åŒ–ä¸€ä¸ªé¥¼å›¾ echarts.init(dom)(å®˜æ–¹æ–‡æ¡£çœ‹ä¸€ä¸‹å°±éƒ½ä¼šäº†)  mountedé’©å­å®ç°
       *    (2) æ ¹æ®æ•°æ®å®æ—¶æ›´æ–°é¥¼å›¾ echarts.setOption({ ... })
     */
    const app = new Vue({
      el: '#app',
      data: {
        list: [],
        name:'',
        price:''
      },
      created() {
        // ç¬¬ä¸€æ¬¡è¿›å…¥å‘é€è¯·æ±‚
       this.getList()
      },

      mounted () {
          //1. æ“ä½œdomç”Ÿæˆechartså®ä¾‹ 
          //ç”±äºæˆ‘ä»¬åœ¨å‘é€å®Œè¯·æ±‚è¿˜è¦è°ƒç”¨setOptionæ–¹æ³•,æ‰€ä»¥å¯ä»¥æŠŠmyChartæŒ‚è½½åˆ°å®ä¾‹thisä¸Š,æ–¹ä¾¿æ‹¿åˆ°
          this.myChart = echarts.init(document.querySelector('#main'))

          //2 æ“ä½œå®ä¾‹æ–¹æ³•ç”Ÿæˆé¥¼å›¾çš„åˆæ¬¡æ¨¡æ¿ï¼ˆåˆå§‹åŒ–å†…å®¹æ ‡é¢˜æ¨¡æ¿ç­‰ç­‰,å½“ä½ è¦æ›´æ–°æ•°æ®æ—¶åœ¨è°ƒä¸€æ¬¡setOptionæ–¹æ³•ï¼‰
          // å¯ä»¥å¯¹ç…§æ–‡æ¡£æ¥è®¾ç½®æ ¼å¼
          this.myChart.setOption({
            // å¤§æ ‡é¢˜
            title: {
              text: 'æ¶ˆè´¹è´¦å•åˆ—è¡¨',
              left: 'center'
            },
            // æç¤ºæ¡†
            tooltip: {
              trigger: 'item'
            },
            // å›¾ä¾‹
            legend: {
              orient: 'vertical',
              left: 'left'
            },
            // æ•°æ®é¡¹
            series: [
              {
                name: 'æ¶ˆè´¹è´¦å•',
                type: 'pie',
                radius: '50%', // åŠå¾„
                data: [
                // dataå°±æ˜¯è¦åŠ¨æ€è®¾ç½®çš„æ•°æ®
                ],
                emphasis: {
                  itemStyle: {
                    shadowBlur: 10,
                    shadowOffsetX: 0,
                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                  }
                }
              }
            ]
          })
        },
      computed:{
        totalPrice(){
          return this.list.reduce((sum,item) => sum + item.price,0)
        }
      },
      methods:{
        // è·å–æœ€æ–°çš„åˆ—è¡¨æ˜¯é€šç”¨çš„æ–¹æ³•ç»Ÿä¸€å°è£…
        async getList(){
          const res = await axios.get('https://applet-base-api-t.itheima.net/bill', {
          params: {
            creator: 'é»„è€é¼ '
          }
        })
        this.list = res.data.data
         
        // å‘é€å®Œè¯·æ±‚ä»¥åä¹Ÿè¦æ›´æ–°é¥¼å›¾ å†è°ƒç”¨ä¸€æ¬¡setOption
        this.myChart.setOption({
          series:[
            {
              // åªæœ‰dataæ˜¯è¦æ›´æ–°çš„
              // {value:xx,name:xxx} è¿™æ˜¯å®˜ç½‘çš„dataè®¾ç½® æ‰€ä»¥æˆ‘ä»¬é€šè¿‡mapæ¥è½¬æ¢å¤„ç†æ•°æ®
              data:this.list.map((item) => ({value:item.price,name:item.name}))
            }
          ]
        })

        },


        async add(){
          if (!this.name) {
            alert('è¯·è¾“å…¥æ¶ˆè´¹åç§°')
            return
          }
          if (!this.price) {
            alert('è¯·è¾“å…¥æ¶ˆè´¹ä»·æ ¼')
            return
          }
          const res = await axios.post('https://applet-base-api-t.itheima.net/bill',{
            creator: 'é»„è€é¼ ',
            name:this.name, //this.nameå°±æ˜¯è¡¨å•è¾“å…¥çš„æ•°æ® å› ä¸ºåšäº†åŒå‘æ•°æ®ç»‘å®š
            price:this.price
          })
          // æ‹‰å–åå°æœ€æ–°çš„æ•°æ®é‡æ–°æ¸²æŸ“
          this.getList()
          // æ¸…ç©ºè¾“å…¥
          this.price = ''
          this.name = ''
        },
        // åˆ é™¤æ–¹æ³•
        async del(id){
          // åˆ é™¤çš„æ–¹æ³•å‚æ•°ç›´æ¥åœ¨pathä¸Šä¼ é€’
          if(confirm('ä½ ç¡®å®šåˆ é™¤å—')){
          const res = await axios.delete(`https://applet-base-api-t.itheima.net/bill/${id}`)
          }
          this.getList()
        }
      },


    })
  </script>
</body>

</html>
```



## 6.vue2å·¥ç¨‹åŒ–å¼€å‘

### 1.vue2vue3å·¥ç¨‹åŒ–çš„ä¸åŒç‚¹

```apl
vue3:vite->create-vue->pinia
vue2:webpack->vue-cli->vuex
```



### 2.åŸºæœ¬ä½¿ç”¨(ç†è§£é¡¹ç›®ã€å¦‚ä½•åˆ›å»ºé¡¹ç›®)

**åŸºäºvue-cliåˆ›å»ºé¡¹ç›®**

![image-20230817173949222](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230817173949222.png)

![uTools_1692265492491](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/uTools_1692265492491.png)

**main.jså…¥å£æ–‡ä»¶**

![uTools_1692267039957](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/uTools_1692267039957.png)

![](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/uTools_1692267039957.png)

![uTools_1692265956688](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/uTools_1692265956688.png)



### 3.ç»„ä»¶åŒ–å¼€å‘

![image-20230818010057817](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230818010057817.png)

![image-20230818010217040](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230818010217040.png)

**vue2çš„templateä¸èƒ½æœ‰å¤šä¸ªï¼Œtemplateé‡Œä¸­ä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ **

![image-20230818010449274](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230818010449274.png)

![image-20230818010523377](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230818010523377.png)



#### 1.æ™®é€šç»„ä»¶çš„æ³¨å†Œä½¿ç”¨

##### 1.å±€éƒ¨æ³¨å†Œ

**vscodeä¸­æ•²å‡»<vue>ä¸€ä»¶ç”Ÿæˆç»„ä»¶ä¸‰éƒ¨åˆ†ç»“æ„**

![image-20230818010821419](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230818010821419.png)

![image-20230818011240088](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230818011240088.png)

##### 2.å…¨å±€æ³¨å†Œ

![image-20230818011409758](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230818011409758.png)

![image-20230818011633721](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230818011633721.png)

##### 3.vscodeå¿«æ·é”®

```bash
1.1.shift+alt+å·¦é”®å¤šè¡Œç¼–è¾‘
2.å¤§æ–‡ä»¶åŒæ—¶æŠ˜å  ctrl + k, ctrl + 0
3.2.å¤§æ–‡ä»¶åŒæ—¶å±•å¼€ ctrl + k, ctrl + j
4. ctrl+c å…³é—­é¡¹ç›®è¿è¡Œ
```



#### 4.æ¡ˆä¾‹

![image-20230818013752471](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230818013752471.png)



#### 5.ç»„ä»¶çš„ä¸‰å¤§ç»„æˆéƒ¨åˆ†

##### 1.scopedè§£å†³æ ·å¼å†²çª

![image-20230818175205781](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230818175205781.png)

![image-20230818175144209](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230818175144209.png)

##### 2.ç»„ä»¶çš„dataå‡½æ•°

**æ ¹ç»„ä»¶çš„dataæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå­ç»„ä»¶çš„dataå¿…é¡»ç”¨å‡½æ•°ã€‚**

![image-20230822235556671](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230822235556671.png)



### 4.ç»„ä»¶çš„é€šä¿¡

#### 1.çˆ¶å­ç»„ä»¶é€šä¿¡

![image-20230822235854981](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230822235854981.png)

propsçˆ¶ä¼ å­çš„æµç¨‹

![image-20230823000121939](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230823000121939.png)

$emitså­ä¼ çˆ¶é€šçŸ¥æ›´æ–°(çˆ¶ç»„ä»¶æ›´æ–°äº†titleä¼šå‘ä¸‹ä¼ é€’ç»™å­ç»„ä»¶)

![image-20230823000255393](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230823000255393.png)

![image-20230823010159161](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230823010159161.png)

**è¿™é‡ŒnewTitleæ‹¿åˆ°å°±æ˜¯`changeTitle`äº‹ä»¶å¸¦çš„å‚æ•° `ä¼ æ™ºæ•™è‚²`,æˆ‘ä»¬è¦çŸ¥é“çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶çš„propsæ˜¯åªè¯»çš„,æ‰€ä»¥ä¸èƒ½ç›´æ¥åœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹,è¦åœ¨çˆ¶ç»„ä»¶ä¸­ä¿®æ”¹**

**Vue3ä¸­ç±»ä¼¼çš„ä¾‹å­**

```vue
<!--app-->
<template>
  <Child1 @changeTitle="changeTitle" :title="myTitle"></Child1>
</template>

<script setup lang="ts">
import { Ref, ref } from "vue";
import Child1 from "./components/Child1.vue";
const myTitle = ref('æˆ‘æ˜¯ä¿®æ”¹å‰çš„æ ‡é¢˜')

const changeTitle = (res:string) => {
  console.log('æ¥æ”¶åˆ°ä¿®æ”¹æ¶ˆæ¯',res);
  myTitle.value = res
}

</script>

<!-- Child.vue -->
<template>
  {{ props.title }}
  <button @click="changeTitle">ä¼ é€’æ¶ˆæ¯</button>
</template>

<script lang="ts" setup>
import { ref } from "vue"
const message = ref('æˆ‘æ˜¯è¢«ä¿®æ”¹åçš„æ¶ˆæ¯äº†,ä»å­ç»„ä»¶ä¸­æ¥çš„')
const props = defineProps(['title'])
const emits = defineEmits(['changeTitle'])
const changeTitle = () => {
  emits('changeTitle',message)
}
</script>
```

![image-20230823004809491](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230823004809491.png)



##### 1.ä»€ä¹ˆæ˜¯props

![image-20230823005141169](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230823005141169.png)



##### 2.porpsæ ¡éªŒ

![image-20230823005815328](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230823005815328.png)



##### 3.propè¦éµå¾ªå•å‘æ•°æ®æµ

**å£è¯€:è°çš„æ•°æ®è°è´Ÿè´£**

![image-20230823010357836](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230823010357836.png)

**Vscode   crtl+dè·å–å•ä¸ªå•è¯**



##### 4.ä¾‹å­ï¼šæ‹†åˆ†å°é»‘è®°äº‹æœ¬ä¾‹å­

![uTools_1692725042633](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/uTools_1692725042633.png)

![image-20230823012655965](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230823012655965.png)

![image-20230823012759802](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230823012759802.png)

![image-20230823012928562](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230823012928562.png)



#### 2.éçˆ¶å­é€šä¿¡ -> event bus äº‹ä»¶æ€»çº¿

**è¿™ç§æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œåªè¦ç›‘å¬äº†è¯¥äº‹ä»¶éƒ½èƒ½ç›‘å¬åˆ°**

![image-20230829164344345](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230829164344345.png)



event bus.js

![image-20230829225531566](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230829225531566.png)

```vue
App.vue
<template>
    <div>
      <A1Components></A1Components>
      <B1Components></B1Components>
    </div>
</template>

<script>
import A1Components from './components/A1Components.vue';
import B1Components from './components/B1Components.vue';
export default{
  components:{
    A1Components,
    B1Components
  }
}
</script>
A1
<template>
  <div>
    æˆ‘æ˜¯Aç»„ä»¶(æ¥æ”¶æ–¹)
    <p>æˆ‘å¯ä»¥ä½¿ç”¨msg: {{ msg }}</p>
  </div>
</template>

<script >
import Bus from '../utils/EventBus.js'
export default {
    created(){
        // 2. åœ¨ç»„ä»¶A(æ¥æ”¶æ–¹),è¿›è¡Œç›‘å¬Busçš„äº‹ä»¶(è®¢é˜…æ¶ˆæ¯) ç›‘å¬Busçš„sendMsgäº‹ä»¶
        Bus.$on('sendMsg',(msg) => {  //Bus.$onè¡¨ç¤ºè®¢é˜…
            // console.log(msg); //msgå¯ä»¥æ¥æ”¶åˆ°B1Componentså‘é€çš„æ¶ˆæ¯
            console.log(this.msg);
            this.msg = msg
        })
    },
    data(){
      return{
        msg:''
      }
    }
}
</script>
B1
<template>
  <div>
    æˆ‘æ˜¯Bç»„ä»¶(å‘é€æ–¹)
    <button @click="clickSend">å‘é€</button>
  </div>
</template>

<script>
import Bus from '../utils/EventBus.js'
export default {
    methods:{
        clickSend(){
            //3.Bç»„ä»¶(å‘é€æ–¹) è§¦å‘äº‹ä»¶å‘é€æ¶ˆæ¯
            Bus.$emit('sendMsg','æˆ‘å·²ç»å¼€å§‹å‘é€æ¶ˆæ¯')
        }
    }
}
</script>
```

#### 3.éçˆ¶å­é€šä¿¡ provideå’Œinject

![image-20230829225712387](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230829225712387.png)

**æ³¨æ„è¿™ä¸ªå“åº”å¼å’Œéå“åº”å¼**

![image-20230829231620955](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230829231620955.png)



### 5.åŸç†è§£æ

#### 1.v-modelåº”ç”¨äºæ¨¡æ¿çš„åŸç†

`åœ¨vueçš„æ¨¡æ¿ä¸­ï¼Œä¸èƒ½ç›´æ¥ç”¨eæ‹¿åˆ°äº‹ä»¶å¯¹è±¡ï¼Œè¦ç”¨$eventæ‰èƒ½æ‹¿åˆ°äº‹ä»¶å½¢å‚ -> e`

![image-20230829233644426](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230829233644426.png)



#### 2.v-modelåº”ç”¨äºå­ç»„ä»¶

**`v-modelä¸èƒ½ç›´æ¥åœ¨å­ç»„ä»¶ç»‘å®šï¼Œå› ä¸ºå­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„props`**

![image-20230830000750568](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230830000750568.png)

```vue
App.vue
<template>
    <div>
      <A1Components :selectId="selectId" @changeId="selectId = $event"></A1Components>
    </div>
</template>

<script>
import A1Components from './components/A1Components.vue';

export default{
  components:{
    A1Components
  },
  data(){
    return{
      selectId:'101'  //çˆ¶ç»„ä»¶ä¼ é€’è¿‡å»çš„props
    }
  }
}
</script>
A1
<template>
  <div>
    <!-- å­ç»„ä»¶è¿›è¡Œå°è£… -->
    <select :value="selectId" @change="handleChange">
      <option value="101">åŒ—äº¬</option>
      <option value="102">å¹¿å·</option>
      <option value="103">ä¸Šæµ·</option>
      <option value="104">å¤©æ´¥</option>
      <option value="105">å¦é—¨</option>
    </select>
  </div>
</template>

<script >
export default {
props:{
  selectId:String
},
methods:{
  handleChange(e){
    this.$emit('changeId',e.target.value)
   }
 }
}
</script>
```



#### 3.v-modelç”¨äºçˆ¶å­ç»„ä»¶æ•°æ®åŒå‘ç»‘å®š

![image-20230830001432563](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230830001432563.png)

```vue
app
<template>
    <div>
      <A1Components v-model="selectId"></A1Components>
    </div>
</template>

<script>
import A1Components from './components/A1Components.vue';

export default{
  components:{
    A1Components
  },
  data(){
    return{
      selectId:'101'  //çˆ¶ç»„ä»¶ä¼ é€’è¿‡å»çš„props
    }
  }
}
</script>
a1
<template>
  <div>
    <!-- å­ç»„ä»¶è¿›è¡Œå°è£… -->
    <select :value="value" @change="handleChange">
      <option value="101">åŒ—äº¬</option>
      <option value="102">å¹¿å·</option>
      <option value="103">ä¸Šæµ·</option>
      <option value="104">å¤©æ´¥</option>
      <option value="105">å¦é—¨</option>
    </select>
  </div>
</template>

<script >
export default {
props:{
  value:String
},
methods:{
  handleChange(e){
    this.$emit('input',e.target.value)
  }
}

}
</script>
```

![image-20230830001542674](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230830001542674.png)



#### 4.syncä¿®é¥°ç¬¦

![image-20230830041942369](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230830041942369.png)

```VUE
app
<template>
    <div>
      <button @click="isShow = true;is = false" v-show="is">é€€å‡º</button>
      <!-- ç›¸å½“äºç»‘å®šäº† :visible + @update:visible -->
      <A1Components :visible.sync="isShow"></A1Components>
    </div>
</template>

<script>
import A1Components from './components/A1Components.vue';

export default{
  components:{
    A1Components
  },
  data(){
    return{
      is:true,
      isShow:false//çˆ¶ç»„ä»¶ä¼ é€’è¿‡å»çš„props
    }
  }
}
</script>

A1
<template>
  <div class="top">
    <div class="show" v-show="visible">
      <p>æ¸©é¦¨æç¤º &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button @click="close">x</button></p>
      <br>
      <p>ä½ ç¡®è®¤é€€å‡ºç³»ç»Ÿå—!</p>
      <button @click="close">ç¡®è®¤</button>
      <button @click="noClose">å–æ¶ˆ</button>
    </div>
    <div v-show="isShow2" class="top1">
      <p>é€€å‡ºæˆåŠŸ</p>
    </div>
    <div v-show="isShow3" class="top2">
      <p>å–æ¶ˆæˆåŠŸ,åˆ·æ–°è¿”å›é¡µé¢</p>
    </div>
  </div>
</template>

<script >
export default {
  data(){
    return{
      isShow1:true,
      isShow2:false,
      isShow3:false
    }
  },
props:{
  visible:Boolean
},
methods:{
  clickChange(){
    
  },
 close(){
  this.$emit('update:visible',false)
  this.isShow2 = true
 },
 noClose(){
  this.$emit('update:visible',false)
  this.isShow3 = true
 },
}

}
</script>

<style scoped>
.show{
  z-index:999;
  width: 500px;
  height: 300px;
  background:rgb(120, 119, 119);
}
.top1{
  z-index: 1000;
  width: 500px;
  height: 300px;
  background:rgb(120, 119, 119);
}
.top2{
  z-index: 1000;
  width: 500px;
  height: 300px;
  background:rgb(120, 119, 119);
}
</style>
```



#### 5.refå’Œ$ref

1.è·å–DOMå…ƒç´ 

![image-20230903212042625](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903212042625.png)

2.è·å–ç»„ä»¶å®ä¾‹

![image-20230903212533972](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903212533972.png)

![image-20230903212456385](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903212456385.png)



#### 6.vueæ˜¯å¼‚æ­¥æ›´æ–°ï¼Œ$nextTick

![](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903213432067.png)

![image-20230903213415092](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903213415092.png)

![image-20230903213507354](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903213507354.png)

##### 1.vue3è·å–DOMå…ƒç´ 

![uTools_1693747936642](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/uTools_1693747936642.png)



### 6.vueè‡ªå®šä¹‰æŒ‡ä»¤

#### 1.æ¦‚å¿µ

![image-20230903213958356](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903213958356.png)

insertedç›¸å½“äºä¸€ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°

![image-20230903214248928](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903214248928.png)

![image-20230903214602601](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903214602601.png)



#### 2.æŒ‡ä»¤çš„å€¼(ä¼ å‚)

![image-20230903214955313](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903214955313.png)

![image-20230903215220671](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903215220671.png)

![image-20230903215332741](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903215332741.png)



#### 3.ä¾‹å­:v-loading

![image-20230903215439844](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903215439844.png)

![image-20230903215559820](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903215559820.png)

![image-20230903222415721](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903222415721.png)

```vue
<template>
  <div class="main">
    <div class="box" v-loading="isLoading">
      <ul>
        <li v-for="item in list" :key="item.id" class="news">
          <div class="left">
            <div class="title">{{ item.title }}</div>
            <div class="info">
              <span>{{ item.source }}</span>
              <span>{{ item.time }}</span>
            </div>
          </div>

          <div class="right">
            <img :src="item.img" alt="">
          </div>
        </li>
      </ul>
    </div>
    <div class="box2" v-loading="isLoading">
    </div>
  </div>
</template>

<script>
// å®‰è£…axios =>  yarn add axios
import axios from 'axios'


// æ¥å£åœ°å€ï¼šhttp://hmajax.itheima.net/api/news
// è¯·æ±‚æ–¹å¼ï¼šget
export default {
  data () {
    return {
      list: [],
      isLoading:true
    }
  },

  async created () {
    // 1. å‘é€è¯·æ±‚è·å–æ•°æ®
    const res = await axios.get('http://hmajax.itheima.net/api/news')
    
    setTimeout(() => {
      // 2. æ›´æ–°åˆ° list ä¸­
      this.list = res.data.data
      this.isLoading = false
    }, 2000)
  },
  directives:{
    loading:{
        inserted(el,binding) {
          //el æ‹¿åˆ°å°±æ˜¯v-loadingæŒ‡ä»¤ç»‘å®šçš„å…ƒç´ 
          // binding.value æ‹¿åˆ°çš„å°±æ˜¯isLoading
          binding.value ? el.classList.add('loading') : el.classList.remove('loading')
        },
        update(el,binding){
          binding.value ? el.classList.add('loading') : el.classList.remove('loading')
        }
      }
  }
}
</script>

<style>
/* ä¼ªç±» - è’™å±‚æ•ˆæœ */
.loading:before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: #fff url('./loading.gif') no-repeat center;
}

.box2 {  å­ç»çˆ¶ç›¸
  width: 400px;
  height: 400px;
  border: 2px solid #000;
  position: relative;
} 

.box {
  width: 800px;
  min-height: 500px;
  border: 3px solid orange;
  border-radius: 5px;
  position: relative;
}
.news {
  display: flex;
  height: 120px;
  width: 600px;
  margin: 0 auto;
  padding: 20px 0;
  cursor: pointer;
}
.news .left {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding-right: 10px;
}
.news .left .title {
  font-size: 20px;
}
.news .left .info {
  color: #999999;
}
.news .left .info span {
  margin-right: 20px;
}
.news .right {
  width: 160px;
  height: 120px;
}
.news .right img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
</style>
```



### 7.æ’æ§½

#### 1.é»˜è®¤æ’æ§½

æˆ‘ä»¬è¿™é‡Œç”¨çˆ¶å­é€šä¿¡å®é™…ä¸Šæ˜¯ä¸æ–¹ä¾¿çš„ï¼Œè¿˜è¦è§¦å‘äº†äº‹ä»¶æ‰èƒ½å»ä¿®æ”¹ç»„ä»¶æ ·å¼

![image-20230903223306077](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903223306077.png)

![image-20230903223327240](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903223327240.png)

![image-20230903223128475](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903223128475.png)

![image-20230903223159193](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903223159193.png)



#### 2.æ’æ§½é»˜è®¤å†…å®¹

![image-20230903223554510](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903223554510.png)



#### 3.å…·åæ’æ§½

![image-20230903223812611](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903223812611.png)

![image-20230903223848220](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903223848220.png)

**v-slotä¹Ÿæ˜¯æ“ä½œdomå…ƒç´ çš„ï¼Œå¯ä»¥è¯æ˜vueæŒ‡ä»¤å°±æ˜¯åœ¨æ“ä½œdomå…ƒç´ **



#### 4.ä½œç”¨åŸŸæ’æ§½

![image-20230903224306566](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903224306566.png)

![image-20230903224432163](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903224432163.png)

**æ“ä½œéœ€è¦å®šåˆ¶ï¼Œç„¶ååœ¨åˆ é™¤æ—¶éœ€è¦ç”¨åˆ°idï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ’æ§½ä¸­ä¼ å…¥idå€¼ï¼Œä½¿å¾—å…¶å¯ä»¥è¿›è¡Œåˆ é™¤**



##### 1.å…·ä½“ä½¿ç”¨

![image-20230903224620176](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230903224620176.png)

```vue
app
<template>
  <div>
    <A1Components :data="list">
      <!-- é€šè¿‡ æ’æ§½å='å¯¹è±¡å' æ¥æ¥æ”¶ -->
      <template #default="obj">
        <button @click="del(obj.item.id)">åˆ é™¤</button>
      </template>
    </A1Components>
    <A1Components :data="list2">
      <!-- å¯ä»¥è§£æ„èµ‹å€¼ -->
      <template #default="{ item }"> 
        <button @click="show(item)">æŸ¥çœ‹</button>
      </template>
    </A1Components>
  </div>
</template>

<script>
import A1Components from './components/A1Components.vue';
export default {
  data () {
    return {
      list: [
        { id: 1, name: 'å¼ å°èŠ±', age: 18 },
        { id: 2, name: 'å­™å¤§æ˜', age: 19 },
        { id: 3, name: 'åˆ˜å¾·å¿ ', age: 17 },
      ],
      list2: [
        { id: 1, name: 'èµµå°äº‘', age: 18 },
        { id: 2, name: 'åˆ˜è““è““', age: 19 },
        { id: 3, name: 'å§œè‚–æ³°', age: 17 },
      ]
    }
  },
  components: {
    A1Components
  },
  methods:{
    del(id){
      this.list = this.list.filter(item => item.id !== id)
    },
    show(item){
      alert(`æˆ‘æ˜¯${item.name},æˆ‘${item.age}å²`)
    }

  }
}
</script>

A1
<template>
  <table class="my-table">
    <thead>
      <tr>
        <th>åºå·</th>
        <th>å§“å</th>
        <th>å¹´çºª</th>
        <th>æ“ä½œ</th>
      </tr>
    </thead>
    <tbody>
      <tr v-for="(item,index) in data" :key="item.id">
        <td>{{ index+1 }}</td>
        <td>{{ item.name }}</td>
        <td>{{ item.age }}</td>
        <td>
          <!-- æŠŠitem,msgä¼ ç»™çˆ¶ç»„ä»¶ä½¿ç”¨ -->
          <!-- ä¼ è¿‡å»çš„å†…å®¹ä¼šåŒ…åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ -->
          <slot :item="item" msg="æˆ‘æ˜¯æµ‹è¯•æ¶ˆæ¯"></slot>
        </td>
      </tr>
    </tbody>
  </table>
</template>

<script>
export default {
  props: {
    data: Array,
  },
}
</script>

<style scoped>
.my-table {
  width: 450px;
  text-align: center;
  border: 1px solid #ccc;
  font-size: 24px;
  margin: 30px auto;
}
.my-table thead {
  background-color: #1f74ff;
  color: #fff;
}
.my-table thead th {
  font-weight: normal;
}
.my-table thead tr {
  line-height: 40px;
}
.my-table th,
.my-table td {
  border-bottom: 1px solid #ccc;
  border-right: 1px solid #ccc;
}
.my-table td:last-child {
  border-right: none;
}
.my-table tr:last-child td {
  border-bottom: none;
}
.my-table button {
  width: 65px;
  height: 35px;
  font-size: 18px;
  border: 1px solid #ccc;
  outline: none;
  border-radius: 3px;
  cursor: pointer;
  background-color: #ffffff;
  margin-left: 5px;
}
</style>
```



#### 5.ç»¼åˆæ¡ˆä¾‹(ç»ƒä¹ è‡ªå®šä¹‰æŒ‡ä»¤ã€æ’æ§½)

##### 1.APP.VUE

```vue
<template>
  <div class="table-case">
    <!-- åˆ©ç”¨äº†å…·åæ’æ§½å’Œä½œç”¨åŸŸæ’æ§½ -->
    <MyTable :data="goods">
      <template #head>
        <th>ç¼–å·</th>
          <th>åç§°</th>
          <th>å›¾ç‰‡</th>
          <th width="100px">æ ‡ç­¾</th>
      </template>
      <template #body="{ item,index }">
        <td>{{ index+1 }}</td>
          <td>{{item.name}}</td>
          <td>
            <img :src="item.picture" />
          </td>
          <td>
           <MyTag v-model="item.tag"></MyTag>
          </td>
      </template>
    </MyTable>
  </div>
</template>

<script>
// my-tag æ ‡ç­¾ç»„ä»¶çš„å°è£…
// 1. åˆ›å»ºç»„ä»¶ - åˆå§‹åŒ–
// 2. å®ç°åŠŸèƒ½
//    (1) åŒå‡»æ˜¾ç¤ºï¼Œå¹¶ä¸”è‡ªåŠ¨èšç„¦
//        v-if v-else @dbclick æ“ä½œ isEdit
//        è‡ªåŠ¨èšç„¦ï¼š
//        1. $nextTick => $refs è·å–åˆ°domï¼Œè¿›è¡Œfocusè·å–ç„¦ç‚¹
//        2. å°è£…v-focusæŒ‡ä»¤

//    (2) å¤±å»ç„¦ç‚¹ï¼Œéšè—è¾“å…¥æ¡†
//        @blur æ“ä½œ isEdit å³å¯

//    (3) å›æ˜¾æ ‡ç­¾ä¿¡æ¯
//        å›æ˜¾çš„æ ‡ç­¾ä¿¡æ¯æ˜¯çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„
//        v-modelå®ç°åŠŸèƒ½ (ç®€åŒ–ä»£ç )  v-model => :value å’Œ @input
//        ç»„ä»¶å†…éƒ¨é€šè¿‡propsæ¥æ”¶, :valueè®¾ç½®ç»™è¾“å…¥æ¡†

//    (4) å†…å®¹ä¿®æ”¹äº†ï¼Œå›è½¦ => ä¿®æ”¹æ ‡ç­¾ä¿¡æ¯
//        @keyup.enter, è§¦å‘äº‹ä»¶ $emit('input', e.target.value)

// ---------------------------------------------------------------------

// my-table è¡¨æ ¼ç»„ä»¶çš„å°è£…
// 1. æ•°æ®ä¸èƒ½å†™æ­»ï¼ŒåŠ¨æ€ä¼ é€’è¡¨æ ¼æ¸²æŸ“çš„æ•°æ®  props
// 2. ç»“æ„ä¸èƒ½å†™æ­» - å¤šå¤„ç»“æ„è‡ªå®šä¹‰ ã€å…·åæ’æ§½ã€‘
//    (1) è¡¨å¤´æ”¯æŒè‡ªå®šä¹‰
//    (2) ä¸»ä½“æ”¯æŒè‡ªå®šä¹‰
import MyTag from './components/MyTag.vue';
import MyTable from './components/MyTable.vue';
export default {
  name: 'TableCase',
  data() {
    return {
      text:'æ°´æ¯',
      goods: [
        {
          id: 101,
          picture:
            'https://yanxuan-item.nosdn.127.net/f8c37ffa41ab1eb84bff499e1f6acfc7.jpg',
          name: 'æ¢¨çš®æœ±æ³¥ä¸‰ç»æ¸…ä»£å°å“å£¶ç»å…¸æ¬¾ç´«ç ‚å£¶',
          tag: 'èŒ¶å…·',
        },
        {
          id: 102,
          picture:
            'https://yanxuan-item.nosdn.127.net/221317c85274a188174352474b859d7b.jpg',
          name: 'å…¨é˜²æ°´HABUæ—‹é’®ç‰›çš®æˆ·å¤–å¾’æ­¥é‹å±±å®æ³°æŠ—èŒ',
          tag: 'ç”·é‹',
        },
        {
          id: 103,
          picture:
            'https://yanxuan-item.nosdn.127.net/cd4b840751ef4f7505c85004f0bebcb5.png',
          name: 'æ¯›èŒ¸èŒ¸å°ç†Šå‡ºæ²¡ï¼Œå„¿ç«¥ç¾Šç¾”ç»’èƒŒå¿ƒ73-90cm',
          tag: 'å„¿ç«¥æœé¥°',
        },
        {
          id: 104,
          picture:
            'https://yanxuan-item.nosdn.127.net/56eb25a38d7a630e76a608a9360eec6b.jpg',
          name: 'åŸºç¡€ç™¾æ­ï¼Œå„¿ç«¥å¥—å¤´é’ˆç»‡æ¯›è¡£1-9å²',
          tag: 'å„¿ç«¥æœé¥°',
        },
      ],
    }
  },
  components:{
    MyTable,MyTag
  }
}
</script>

<style lang="less" scoped>
.table-case {
  width: 1000px;
  margin: 50px auto;
  img {
    width: 100px;
    height: 100px;
    object-fit: contain;
    vertical-align: middle;
  }
}
</style>
```

##### 2.MyTag

```vue
<template>
     <div class="my-tag">
        <input 
            v-if="isEdit"
            :value="value"
            @keyup.enter="handEnter"
            v-focus
            class="input"
            type="text" 
            placeholder="è¾“å…¥æ ‡ç­¾"
            @blur="isEdit = false" 
        />
        <!-- blurå¤±å»ç„¦ç‚¹äº‹ä»¶ -->
        <div
         class="text"
         @dblclick="handleClick"
         v-else
        >
         {{ value }}
        </div>
      </div>
</template>

<script>
export default{
    props:{
        value:String
    },
    data(){
        return{
            isEdit:false
        }
    },
    methods:{
        // ç‚¹å‡»æ ‡ç­¾äº‹ä»¶
        handleClick(){
            this.isEdit = true //åŒå‡»æ˜¾ç¤º
        },
        // æ ‡ç­¾å›è½¦äº‹ä»¶
        handEnter(e){
            // è¾“å…¥ä¸ºç©ºä¸å¯ä»¥ä¿å­˜
            if(e.target.value.trim() === ''){
                return alert('è¾“å…¥ä¸å¯ä»¥ä¸ºç©º')
            }
            // å›è½¦æ—¶æé†’çˆ¶ç»„ä»¶æ›´æ–°å€¼(é€šè¿‡v-modelç»‘å®šäº†çˆ¶ç»„ä»¶ propsæ¥æ”¶çˆ¶ç»„ä»¶æ•°æ® emitæé†’çˆ¶ç»„ä»¶æ›´æ–°)
            this.$emit('input',e.target.value)
            // å›è½¦ä»¥åè‡ªåŠ¨å¤±å»ç„¦ç‚¹
            this.isEdit = false
        }
    }
}
</script>

<style scoped lang="less">
.my-tag {
    cursor: pointer;
    .input {
      appearance: none;
      outline: none;
      border: 1px solid #ccc;
      width: 100px;
      height: 40px;
      box-sizing: border-box;
      padding: 10px;
      color: #666;
      &::placeholder {
        color: #666;
      }
    }
  }
</style>
```

##### 3.MyTable

```vue
<template>
  <table class="my-table">
      <thead>
        <tr>
            <slot name="head"></slot>
        </tr>
      </thead>
      <tbody>
        <tr v-for="(item,index) in data" :key="item.id">
            <!-- ç»™çˆ¶ç»„ä»¶ä¼ é€’äº†ä¿©ä¸ªå‚æ•° åˆ†åˆ«æ˜¯itemå’Œindexï¼Œè¿™ä¿©ä¸ªä¼šå˜æˆä¸€ä¸ªå¯¹è±¡ä¼ é€’ç»™çˆ¶ç»„ä»¶ -->
          <slot name="body" :item="item" :index="index"></slot>
        </tr>
      </tbody>
    </table>
</template>

<script>
export default {
    props:{
        data:{
            type:Array,
            required:true
        }
        
    }
}
</script>

<style lang="less" scoped>
    .my-table {
    width: 100%;
    border-spacing: 0;
    img {
      width: 100px;
      height: 100px;
      object-fit: contain;
      vertical-align: middle;
    }
    th {
      background: #f5f5f5;
      border-bottom: 2px solid #069;
    }
    td {
      border-bottom: 1px dashed #ccc;
    }
    td,
    th {
      text-align: center;
      padding: 10px;
      transition: all 0.5s;
      &.red {
        color: red;
      }
    }
    .none {
      height: 100px;
      line-height: 100px;
      color: #999;
    }
  }
</style>
```

##### 4.main.js

```js
import Vue from 'vue'
import App from './App.vue'

Vue.config.productionTip = false

// å°è£…å…¨å±€æŒ‡ä»¤
Vue.directive('focus',{
  // æŒ‡ä»¤æ‰€åœ¨çš„domå…ƒç´ ï¼Œè¢«æ’å…¥åˆ°é¡µé¢ä¸­æ—¶è§¦å‘
  inserted(el){
    el.focus()
  }
})

new Vue({
  render: h => h(App),
}).$mount('#app')

```



### 8.Vue Router

#### 1.å•é¡µå’Œå¤šé¡µåº”ç”¨ç¨‹åº

**Vueä¸»è¦ç”¨äºæ„å»ºå•é¡µé¢åº”ç”¨ç¨‹åº,Reactä¸»è¦ç”¨äºæ„å»ºå¤šé¡µé¢åº”ç”¨ç¨‹åº(å¤§é¡¹ç›®)**

`vue3æ„å»ºå¤šé¡µé¢åº”ç”¨ç¨‹åº:`https://blog.csdn.net/snowball_li/article/details/132154902

![image-20230905160004799](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905160004799.png)

![image-20230905160054164](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905160054164.png)



#### 2.routerç®€ä»‹

routerå°±æ˜¯ä¸ºäº†å®ç°å•é¡µé¢åº”ç”¨ç¨‹åºçš„æŒ‰éœ€æ›´æ–°ã€‚

![image-20230905160214871](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905160214871.png)

![image-20230905160248147](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905160248147.png)



#### 3.åŸºæœ¬ä½¿ç”¨(5+2çš„)

##### 1.5ä¸ªåŸºæœ¬æ­¥éª¤

![image-20230905205322490](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905205322490.png)

![image-20230905205719002](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905205719002.png)

`ç°åœ¨vue3æ›´å¤šçš„ç”¨pinia`



##### 2.2ä¸ªæ ¸å¿ƒæ­¥éª¤

![image-20230905210708433](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905210708433.png)

è·¯ç”±å°±æ˜¯ç»„ä»¶å’Œè·¯å¾„æ˜ å°„å…³ç³»

![image-20230905212054854](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905212054854.png)



##### 3.ç»„ä»¶å­˜æ”¾ç›®å½•çš„é—®é¢˜

![image-20230905212308272](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905212308272.png)

![image-20230905212343006](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905212343006.png)

![image-20230905212358878](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905212358878.png)

![image-20230905212420730](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905212420730.png)



#### 4.è·¯ç”±è¿›é˜¶

##### 1.è·¯ç”±æ¨¡å—å°è£…

![image-20230905214308623](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905214308623.png)

```js
/src/router/index.js
// è·¯ç”±å…¥å£æ–‡ä»¶
import Vue from 'vue'

// ä¸ºäº†é¿å…å±‚æ¬¡é—®é¢˜ vueæä¾›äº†@æ ‡è¯†ç¬¦ è¡¨ç¤ºä»srcå‡ºå‘
import Find from '@/views/Find.vue'
import My from '@/views/My.vue'

import VueRouter from 'vue-router'
Vue.use(VueRouter)

const router = new VueRouter({
  routes:[
    {path:'/find',component:Find},
    {path:'/my',component:My}
  ]
})

export default router

main.js
import Vue from 'vue'
import App from './App.vue'
import router from './router/index.js'

Vue.config.productionTip = false


new Vue({
  render: h => h(App),
  router:router
}).$mount('#app')
```



##### 2.router-link(å£°æ˜å¼å¯¼èˆª)é«˜äº®å®ç°

![image-20230905215028762](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905215028762.png)

![image-20230905215106911](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905215106911.png)

![image-20230905215508409](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905215508409.png)

**å®šåˆ¶routerlinkçš„ä¿©ä¸ªç±»å**

![image-20230905215831616](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230905215831616.png)



##### 3.router-link è·³è½¬ä¼ å‚

###### 1.æŸ¥è¯¢å‚æ•°ä¼ å‚

![image-20230906205045647](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906205045647.png)

![image-20230906204954602](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906204954602.png)

###### 2.åŠ¨æ€è·¯ç”±ä¼ å‚

![image-20230906205251558](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906205251558.png)

![image-20230906205446990](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906205446990.png)

![image-20230906205502990](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906205502990.png)

**é…ç½®äº†åŠ¨æ€è·¯ç”±ä»¥å,è¡¨ç¤ºæœç´¢å¿…é¡»è¦åœ¨è·¯å¾„åé¢ä¼ å‚ï¼Œä¸ä¼ å‚å°±ä¸ä¼šæ˜¾ç¤º,å¯ä»¥ä½¿ç”¨?å‚æ•°å¯é€‰ç¬¦æ¥è§£å†³**

![image-20230906205927134](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906205927134.png)



###### 3.æ€»ç»“

![image-20230906205628481](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906205628481.png)



#### 4.è·¯ç”±é‡å®šå‘

![image-20230906210246277](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906210246277.png)



#### 5.404è·¯ç”±

![image-20230906210518930](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906210518930.png)



#### 6.è·¯ç”±æ¨¡å¼è®¾ç½®

![image-20230906210642492](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906210642492.png)



#### 7.ç¼–ç¨‹å¼å¯¼èˆª

`ä¼ ç»Ÿjsä»£ç è·³è½¬ä½¿ç”¨location.href,ä½†æ˜¯åœ¨vueä¸­ä¸é€‚åˆï¼Œå› ä¸ºvueæ˜¯å•é¡µåº”ç”¨ç¨‹åº,ä¸èƒ½è·³è½¬ç½‘é¡µ`



##### 1.åŸºæœ¬ä½¿ç”¨

###### routeå’Œrouterã€queryå’Œparams

```js
1.routeæ˜¯ç”¨æ¥è·å–è·¯ç”±ä¿¡æ¯çš„ï¼Œrouteræ˜¯ç”¨æ¥æ“ä½œè·¯ç”±çš„ã€‚
2.routeå¯¹è±¡æ˜¯ä¸€ä¸ªè·¯ç”±ä¿¡æ¯å¯¹è±¡ï¼Œé‡Œé¢ä¸»è¦åŒ…å«è·¯ç”±çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…å«å½“å‰çš„è·¯å¾„ï¼Œå‚æ•°ï¼Œqueryå¯¹è±¡ç­‰ã€‚è€Œrouterå¯¹è±¡åˆ™æ˜¯ç”¨æ¥å®šä¹‰è·¯ç”±è¡¨ï¼Œå®ç°é¡µé¢è·³è½¬ç­‰åŠŸèƒ½ã€‚
3.queryå’Œparamså±æ€§éƒ½æ˜¯ç”¨æ¥ä¼ é€’å‚æ•°çš„ã€‚å…¶ä¸­ï¼Œparams(åŠ¨æ€è·¯ç”±ä¼ å‚)æ˜¯åœ¨è·¯ç”±è·¯å¾„ä¸Šç›´æ¥ç»‘å®šçš„ï¼Œå½¢å¼æ˜¯ /path/:paramNameï¼Œè€Œquery(æŸ¥è¯¢å‚æ•°ä¼ å‚)åˆ™æ˜¯é€šè¿‡ ?key=value çš„å½¢å¼æ·»åŠ åœ¨è·¯ç”±åœ°å€åé¢ ã€‚
```



åˆ†ä¸ºä¿©ç§ç¼–ç¨‹å¼å¯¼èˆª: é€šè¿‡è·¯å¾„è·³è½¬ã€é€šè¿‡åå­—è·³è½¬

![image-20230906215022021](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906215022021.png)

![image-20230906215004403](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906215004403.png)



##### 2.ç¼–ç¨‹å¼å¯¼èˆªè·¯ç”±ä¼ å‚

###### 1.pathçš„è·¯å¾„è·³è½¬ä¼ å‚ --> æŸ¥è¯¢å‚æ•°ä¼ å‚

![image-20230906215209797](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906215209797.png)





###### 2.pathçš„è·¯å¾„è·³è½¬ä¼ å‚:åŠ¨æ€è·¯ç”±ä¼ å‚

![image-20230906215235414](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906215235414.png)

é…ç½®çš„è·¯ç”±ä¾‹å­

![image-20231006185204264](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231006185204264.png)



å®é™…æ“ä½œ

æŸ¥è¯¢å‚æ•°ä¼ å‚query

![image-20230906215545185](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906215545185.png)

åŠ¨æ€è·¯ç”±ä¼ å‚params

![image-20231006185439924](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231006185439924.png)



###### 3.nameå‘½åè·¯ç”±è·³è½¬ä¼ å‚æŸ¥è¯¢å‚æ•°ä¼ å‚

![image-20230906220202157](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906220202157.png)



###### 4.nameå‘½åè·¯ç”±è·³è½¬ä¼ å‚åŠ¨æ€è·¯ç”±ä¼ å‚

ç‰¹æ®Š:å› ä¸ºåŠ¨æ€è·¯ç”±ä¼ å‚æ˜¯ç›´æ¥åœ¨è·¯å¾„ä¸­ä¼ å‚ï¼Œè€Œnameè·³è½¬çš„æ–¹å¼æ²¡æœ‰ä¹¦å†™è·¯å¾„ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡paramsæ¥åŒæ—¶æ¥æ”¶å’Œå‘é€

![image-20230906220235685](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906220235685.png)



###### 5.æ€»ç»“

![image-20230906220526962](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906220526962.png)

![image-20230906220542827](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230906220542827.png)

`pathé€‚åˆè·¯å¾„ç®€å•ï¼Œnameé€‚åˆè·¯å¾„å¤æ‚ï¼Œqueryé€‚åˆå¤šä¸ªå‚æ•°ï¼ŒåŠ¨æ€è·¯ç”±å‚æ•°é€‚åˆå•ä¸ªå‚æ•°`



#### 8.ç»¼åˆæ¡ˆä¾‹ é¢ç»è¯¦æƒ…

**éœ€æ±‚åˆ†æ**

![image-20230907162321491](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230907162321491.png)

##### 1.åµŒå¥—è·¯ç”±(å­è·¯ç”±)

![image-20230907163641037](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230907163641037.png)

![image-20230907163701466](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230907163701466.png)

##### 2.index.js

```js
// è·¯ç”±å…¥å£æ–‡ä»¶
import Vue from 'vue'
import VueRouter from 'vue-router'
Vue.use(VueRouter)

import Layout from '@/views/Layout'
import ArticleDetail  from '@/views/ArticleDetail'
import Article from '@/views/Article'
import Collect from '@/views/Collect'
import Like from '@/views/Like'
import User from '@/views/User'

const router = new VueRouter({
  routes:[
    {
      path:'/',
      component:Layout,
      redirect:'',
      children:[
        {
          path:'/article',
          component:Article
        },
        {
          path:'/collect',
          component:Collect
        },
        {
          path:'/like',
          component:Like
        },
        {
          path:'/user',
          component:User
        },
      ]
    },
    {
      path:'/detail/:id',
      component:ArticleDetail
    }
  ]
})

export default router
```

##### 3.ArticleDetail

```vue
<template>
  <div class="article-detail-page" v-if="article.id">
    <nav class="nav"> <span @click="$router.back()" class="back">&lt;</span> é¢ç»è¯¦æƒ…</nav>
    <header class="header">
      <h1>{{ article.stem }}</h1>
      <p>{{ article.createdAt }} | {{ article.views }} æµè§ˆé‡ | {{ article.likeCount }} ç‚¹èµæ•°</p>
      <p>
        <img :src="article.creatorAvatar" alt=""> 
        <span>{{ article.creatorName }}</span> 
      </p>
    </header>
    <main class="body">  
      {{ article.content }}
    </main>
  </div>
</template>

<script>
import axios from 'axios'
// è¯·æ±‚åœ°å€: https://mock.boxuegu.com/mock/3083/articles/:id
// è¯·æ±‚æ–¹å¼: get
export default {
  name: "ArticleDetailPage",
  data() {
    return {
      article:{}
    }
  },
  async created(){
    //const id  = this.$route.query.id
    // 1.ç¬¬ä¸€æ­¥è·å–ä¼ è¿‡æ¥çš„å‚æ•°
    const id = this.$route.params.id
    // 2.å‘é€è¯·æ±‚
    const {data} = await axios.get(`https://mock.boxuegu.com/mock/3083/articles/${id}`)
    this.article = data.result 
  }
}
</script>

<style lang="less" scoped>
.article-detail-page {
  .nav {
    height: 44px;
    border-bottom: 1px solid #e4e4e4;
    line-height: 44px;
    text-align: center;
    .back {
      font-size: 18px;
      color: #666;
      position: absolute;
      left: 10px;
      top: 0;
      transform: scale(1, 1.5);
    }
  }
  .header {
    padding: 0 15px;
    p {
      color: #999;
      font-size: 12px;
      display: flex;
      align-items: center;
    }
    img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      overflow: hidden;
    }
  }
  .body {
    padding: 0 15px;
  }
}
</style>
```

##### 4.Article

```vue
<template>
  <!-- v-ifä¼˜åŒ–äº†ä¸€ä¸‹è¯·æ±‚ç­‰å¾…æ—¶é—´ -->
  <div class="article-page" v-if="articles">
    //v-foræ¸²æŸ“ å¹¶æ³¨å†Œç‚¹å‡»äº‹ä»¶è·³è½¬åˆ°é¢ç»è¯¦æƒ…(è®°å¾—ä¼ å‚æ•°)
    //@click="$router.push(`/detail?id=${item.id}`)"
    <div
      v-for="item in articles"
      :key="item.id"
      @click="$router.push(`/detail/${item.id}`)"
      class="article-item">
      <div class="head">
        <img :src="item.creatorAvatar" alt="" />
        <div class="con">
          <p class="title">{{ item.stem }}</p>
          <p class="other">{{ item.creatorName }} | {{ item.createdAt }}</p>
        </div>
      </div>
      <div class="body">
        {{ item.content }}
      </div>
      <div class="foot">ç‚¹èµ {{ item.likeCount }} | æµè§ˆ {{ item.views }}</div>
    </div>
  </div>
</template>

<script>
import axios from 'axios';

// é¦–é¡µè¯·æ±‚æ¸²æŸ“
// 1. å®‰è£… axios   yarn add axios
// 2. çœ‹æ¥å£æ–‡æ¡£ï¼Œç¡®è®¤è¯·æ±‚æ–¹å¼ï¼Œè¯·æ±‚åœ°å€ï¼Œè¯·æ±‚å‚æ•°
//    è¯·æ±‚åœ°å€: https://mock.boxuegu.com/mock/3083/articles
//    è¯·æ±‚æ–¹å¼: get
// 3. createdä¸­å‘è¯·æ±‚ï¼Œè·å–æ•°æ®ï¼Œå­˜èµ·æ¥
// 4. é¡µé¢åŠ¨æ€æ¸²æŸ“

// è·³è½¬è¯¦æƒ…é¡µä¼ å‚ â†’ æ¸²æŸ“
// 1. æŸ¥è¯¢å‚æ•°ä¼ å‚ (æ›´é€‚åˆå¤šä¸ªå‚æ•°)
//    ?å‚æ•°=å‚æ•°å€¼    =>  this.$route.query.å‚æ•°å
// 2. åŠ¨æ€è·¯ç”±ä¼ å‚ (å•ä¸ªå‚æ•°æ›´ä¼˜é›…æ–¹ä¾¿)
//    æ”¹é€ è·¯ç”± => /è·¯å¾„/å‚æ•°  =>  this.$route.params.å‚æ•°å
//    ç»†èŠ‚ä¼˜åŒ–ï¼š
//    (1) è®¿é—® / é‡å®šå‘åˆ° /article   (redirect)
//    (2) è¿”å›ä¸Šä¸€é¡µ $router.back()
//    (3) ä¸‹ä¸€é¡µ  $router.next()
export default {
  name: 'ArticlePage',
  data () {
    return {
      articles:[]
    }
  },
  async created(){
    //1.axioså‘è¯·æ±‚æ‹¿åˆ°æ•°æ®
    const res = await axios.get('https://mock.boxuegu.com/mock/3083/articles')
    // 2.å°†å¾—åˆ°çš„æ•°æ®å­˜èµ·æ¥å‡†å¤‡æ¸²æŸ“
    this.articles = res.data.result.rows
  }
}
</script>

<style lang="less" scoped>
.article-page {
  background: #f5f5f5;
}
.article-item {
  margin-bottom: 10px;
  background: #fff;
  padding: 10px 15px;
  .head {
    display: flex;
    img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      overflow: hidden;
    }
    .con {
      flex: 1;
      overflow: hidden;
      padding-left: 15px;
      p {
        margin: 0;
        line-height: 1.5;
        &.title {
          text-overflow: ellipsis;
          overflow: hidden;
          width: 100%;
          white-space: nowrap;
        }
        &.other {
          font-size: 10px;
          color: #999;
        }
      }
    }
  }
  .body {
    font-size: 14px;
    color: #666;
    line-height: 1.6;
    margin-top: 10px;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
  }
  .foot {
    font-size: 12px;
    color: #999;
    margin-top: 10px;
  }
}
</style>
```

##### 5.Layout

```vue
<template>
  <div class="h5-wrapper">
    <div class="content">
      <router-view></router-view>
    </div>
    <nav class="tabbar">
      <router-link to="/article">é¢ç»</router-link>
      <router-link to="/collect">æ”¶è—</router-link>
      <router-link to="/like">å–œæ¬¢</router-link>
      <router-link to="/user">æˆ‘çš„</router-link>
    </nav>
  </div>
</template>

<script>
export default {
  // ç»„ä»¶å(å¦‚æœæ²¡æœ‰é…ç½® nameï¼Œæ‰ä¼šæ‰¾æ–‡ä»¶åä½œä¸ºç»„ä»¶å)
  name: 'LayoutPage',
  // ç»„ä»¶ç¼“å­˜äº†ï¼Œå°±ä¸ä¼šæ‰§è¡Œç»„ä»¶çš„createdï¼Œmountedï¼Œdestroyedç­‰é’©å­
  // æ‰€ä»¥æä¾›äº† actived å’Œ deactived
  created () {
    console.log('created ç»„ä»¶è¢«åŠ è½½äº†');
  },
  mounted () {
    console.log('mounted domæ¸²æŸ“å®Œäº†');
  },
  destroyed () {
    console.log('destroyed ç»„ä»¶è¢«é”€æ¯äº†');
  },

  activated () {
    alert('ä½ å¥½ï¼Œæ¬¢è¿å›åˆ°é¦–é¡µ')
    console.log('activated ç»„ä»¶è¢«æ¿€æ´»äº†ï¼Œçœ‹åˆ°é¡µé¢äº†');
  },
  deactivated () {
    console.log('deactivated ç»„ä»¶å¤±æ´»ï¼Œç¦»å¼€é¡µé¢äº†');
  }
}
</script>

<style>
body {
  margin: 0;
  padding: 0;
}
</style>
<style lang="less" scoped>
.h5-wrapper {
  .content {
    margin-bottom: 51px;
  }
  .tabbar {
    position: fixed;
    left: 0;
    bottom: 0;
    width: 100%;
    height: 50px;
    line-height: 50px;
    text-align: center;
    display: flex;
    background: #fff;
    border-top: 1px solid #e4e4e4;
    a {
      flex: 1;
      text-decoration: none;
      font-size: 14px;
      color: #333;
      -webkit-tap-highlight-color: transparent;
    }
  }
}
</style>
```

##### 6.App

```vue
<template>
  <div class="h5-wrapper">
    <!-- åŒ…è£¹äº†keep-alive ä¸€çº§è·¯ç”±åŒ¹é…çš„ç»„ä»¶éƒ½ä¼šè¢«ç¼“å­˜
      LayoutPageç»„ä»¶(è¢«ç¼“å­˜) - å¤šä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­
          - actived æ¿€æ´»æ—¶ï¼Œç»„ä»¶è¢«çœ‹åˆ°æ—¶è§¦å‘
          - deactived å¤±æ´»æ—¶ï¼Œç¦»å¼€é¡µé¢ç»„ä»¶çœ‹ä¸è§è§¦å‘
          ArticleDetailPageç»„ä»¶(æœªè¢«ç¼“å­˜)

         éœ€æ±‚ï¼šåªå¸Œæœ›Layoutè¢«ç¼“å­˜ï¼Œincludeé…ç½®
         :include="ç»„ä»¶åæ•°ç»„"
    -->
    <keep-alive :include="keepArr">
      <router-view></router-view>
    </keep-alive>
  </div>
</template>

<script>
export default {
  name: "h5-wrapper",
  data(){
    return{
      keepArr:['LayoutPage']
    }
  }
}
</script>

<style>
body {
  margin: 0;
  padding: 0;
}
</style>
<style lang="less" scoped>
.h5-wrapper {
  .content {
    margin-bottom: 51px;
  }
  .tabbar {
    position: fixed;
    left: 0;
    bottom: 0;
    width: 100%;
    height: 50px;
    line-height: 50px;
    text-align: center;
    display: flex;
    background: #fff;
    border-top: 1px solid #e4e4e4;
    a {
      flex: 1;
      text-decoration: none;
      font-size: 14px;
      color: #333;
      -webkit-tap-highlight-color: transparent;
      &.router-link-active {
        color: #fa0;
      }
    }
  }
}
</style>
```

#### 9.è·¯ç”±å‰ç½®å®ˆå«

![image-20230918210141971](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230918210141971.png)

![image-20230918211222115](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230918211222115.png)

toé‡Œé¢æœ‰ä¿©ä¸ªpath

![image-20230918211514451](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230918211514451.png)

path**æ˜¯ä¸å¸¦å‚æ•°çš„**

**ä¾‹å­**

```js
// æˆ‘ä»¬é…ç½®çš„æ‰€æœ‰è·¯ç”±åœ¨çœŸæ­£è¢«è®¿é—®åˆ°ä¹‹å‰(è§£ææ¸²æŸ“å¯¹åº”é¡µé¢æ—¶),éƒ½å¿…é¡»å…ˆç»è¿‡å…¨å±€å‰ç½®è·¯ç”±å®ˆå«
// åªæœ‰æ”¾è¡Œäº†,æ‰èƒ½å»åˆ°æƒ³è®¿é—®çš„åœ°æ–¹

// to:    åˆ°å“ªé‡Œå»çš„å®Œæ•´è·¯ç”±ä¿¡æ¯å¯¹è±¡(è·¯å¾„,å‚æ•°) æ¯”å¦‚ä½ åœ¨/ä¸‹ç‚¹å‡»æŒ‰é’®è·³è½¬åˆ°/cart -æ­¤æ—¶toå°±æ˜¯/cart
// from:  ä»å“ªé‡Œæ¥çš„å®Œæ•´è·¯ç”±ä¿¡æ¯å¯¹è±¡(è·¯å¾„,å‚æ•°) æ¯”å¦‚ä½ åœ¨/ä¸‹ç‚¹å‡»æŒ‰é’®è·³è½¬åˆ°/cart -æ­¤æ—¶fromå°±æ˜¯/
// next(): æ˜¯å¦æ”¾è¡Œ
//    1.next() ç›´æ¥æ”¾è¡Œ ä¼šæ”¾è¡Œåˆ°toå»
//    2.next(è·¯å¾„) è¿›è¡Œæ‹¦æˆª,æ‹¦æˆªåˆ°nexté…ç½®çš„è·¯å¾„

// å®šä¹‰ä¸€ä¸ªæ•°ç»„,ä¸“é—¨å­˜æ”¾éœ€è¦æƒé™è®¿é—®çš„é¡µé¢(å•†åŸé¡¹ç›®è¿™ç§é¡µé¢å°‘)
const authUrls = ['/pay', '/myorder']

router.beforeEach((to, from, next) => {
  // 1.ç¬¬ä¸€ä¸ªåˆ¤æ–­ æ˜¯å¦æ­£åœ¨è®¿é—®æƒé™é¡µé¢
  if (!authUrls.includes(to.path)) {
    next()
    return
  }
  // 2.ç¬¬äºŒä¸ªåˆ¤æ–­ æ˜¯å¦æœ‰token
  const token = store.getters.token
  if (token) {
    // å¦‚æœæœ‰token åˆ™æ”¾è¡Œ
    next()
  } else {
    // æ²¡æœ‰tokenè‡ªåŠ¨è·³å»ç™»å½•
    next('/login')
  }
})
export default router
```







### 9.vue-cliå’ŒESlint

#### 1.vue-cliåˆ›å»ºè‡ªå®šä¹‰é¡¹ç›®

```bash
1.vue create é¡¹ç›®å
2.é€‰æ‹©è‡ªå®šä¹‰åˆ›å»º(è‡ªå·±é€‰)
3.cd ç›®å½•
4.npm run serve æˆ–è€… yarn serve
```

![image-20230907213754903](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230907213754903.png)



#### 2.ESlintä»£ç è§„èŒƒ

![image-20230907214203795](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230907214203795.png)

`ä¿©ä¸ªç­‰å·ä¼šè§¦å‘éšå¼è½¬æ¢,ä¸è¦ä½¿ç”¨`

![image-20230907214248667](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230907214248667.png)

![image-20230907214513590](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230907214513590.png)



#### 3.è§£å†³ä»£ç è§„èŒƒ

![image-20230908112149584](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230908112149584.png)





### 10.Vuex

#### 1.Vuexæ˜¯ä»€ä¹ˆ

![image-20230908112509667](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230908112509667.png)



#### 2.åŸºæœ¬ä½¿ç”¨

![image-20230908113307432](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230908113307432.png)



#### 3.è®¿é—®å’Œä¿®æ”¹ä»“åº“æ•°æ®

##### 1.ä½¿ç”¨storeç›´æ¥è®¿é—®

![image-20230910201247689](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230910201247689.png)

##### 2.é€šè¿‡è¾…åŠ©å‡½æ•°mapState

![image-20230910201805815](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230910201805815.png)



##### 3.mutations(ä¿®æ”¹ä»“åº“çš„æ•°æ®)

![image-20230910202157306](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230910202157306.png)



##### 4.å¦‚ä½•ä½¿ç”¨mutationsæ¥ä¿®æ”¹æ•°æ®

![1694349364078](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/1694349364078.png)



##### 5.mutationså¯ä»¥æäº¤å‚æ•°

![image-20230910205500951](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230910205500951.png)



ä¾‹å­

```js
import Vue from 'vue'
import Vuex from 'vuex'

Vue.use(Vuex)

const store = new Vuex.Store({
  // æä¾›å…¬å…±è®¿é—®çš„æ•°æ®ä»“åº“
  state: {
    count: 1,
    title: 'ä½ å¥½'
  },
  // mutationsçš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯state,ç¬¬äºŒä¸ªå‚æ•°æ˜¯æäº¤è½½è·(ä¼ è¿‡æ¥çš„å‚æ•°)
  // åªèƒ½ä¼ é€’ä¸€ä¸ªè½½è·(éœ€è¦å¤šä¸ªå‚æ•°å°±è¦åŒ…è£…æˆä¸€ä¸ªå¯¹è±¡)
  mutations: {
    addCount (state, n) {
      state.count += n
    },
    changeTitle (state) {
      state.title = 'æ›´æ–°æ ‡é¢˜'
    },
    changeCount (state, newCount) {
      state.count = newCount
    }
  }
})
// jsæ¨¡å—ä¸­ç›´æ¥è®¿é—®
console.log(store.state.count)

export default store
```



```vue
<template>
  <div>
    <!-- æ¨¡æ¿ä¸­è®¿é—® -->
    <p>{{ $store.state.count }}</p>
    <br>
    <button @click="handleAdd(3)"> å€¼ + 3 </button>
    <input type="text" @input="inp" :value="count">
  </div>
</template>

<script>
import { mapState } from 'vuex'

export default {
  name: 'app',
  created () {
    // ç»„ä»¶é€»è¾‘ä¸­è®¿é—®
    console.log(this.$store.state.count)
  },
  computed: {
    ...mapState(['count', 'title'])
  },
  methods: {
    // æäº¤ç»™ä»“åº“æ›´æ–°çš„æ¶ˆæ¯
    handleAdd (n) {
      this.$store.commit('addCount', n)
      // ä¼ é€’å¤æ‚åŒ–å‚æ•°
      // this.$store.commit('addCount', {
      //   count: 100,
      //   title: '123'
      // })
    },
    inp (e) {
      const msg = +e.target.value
      this.$store.commit('changeCount', msg)
    }
  }
}
</script>
```



##### 6.mapMutationsè¾…åŠ©å‡½æ•°

![image-20230910211122601](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230910211122601.png)

**æ›´å¤šçš„æ˜¯ç›´æ¥æ¨¡æ¿ä¸­ç›´æ¥è°ƒç”¨**



##### 7.actionså¼‚æ­¥ä¿®æ”¹æ•°æ®

![image-20230910211532773](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230910211532773.png)

![image-20230910211617254](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230910211617254.png)



##### 8.mapActionsè¾…åŠ©å‡½æ•°

![image-20230910212937921](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230910212937921.png)



##### 9.getters

![image-20230910213820657](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230910213820657.png)



##### 10.ä½¿ç”¨æ€»ç»“

```js
import Vue from 'vue'
import Vuex from 'vuex'

Vue.use(Vuex)

const store = new Vuex.Store({
  // æä¾›å…¬å…±è®¿é—®çš„æ•°æ®ä»“åº“
  state: {
    count: 1,
    title: 'ä½ å¥½',
    list: [1, 2, 3, 4, 5, 6, 7]
  },
  // ç±»ä¼¼äºè®¡ç®—å±æ€§(ä½†æ˜¯æ²¡æœ‰setä¿®æ”¹ è¿˜æ˜¯è¦é€šè¿‡mutationsä¿®æ”¹)
  getters: {
    // 1.getterså‡½æ•°çš„ç¬¬ä¸€ä¸ªå‡½æ•°æ˜¯ state
    // 2.getterså‡½æ•°å¿…é¡»è¦æœ‰è¿”å›å€¼
    // gettersä¹Ÿæ˜¯å“åº”å¼çš„ ä¹Ÿæœ‰è®¡ç®—å±æ€§çš„ç¼“å­˜ç‰¹æ€§
    filterList (state) {
      return state.list.filter(item => item > 5)
    }
  },
  // mutationsçš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯state,ç¬¬äºŒä¸ªå‚æ•°æ˜¯æäº¤è½½è·(ä¼ è¿‡æ¥çš„å‚æ•°)
  // åªèƒ½ä¼ é€’ä¸€ä¸ªè½½è·(éœ€è¦å¤šä¸ªå‚æ•°å°±è¦åŒ…è£…æˆä¸€ä¸ªå¯¹è±¡)
  mutations: {
    addCount (state, n) {
      state.count += n
    },
    changeTitle (state) {
      state.title = 'æ›´æ–°æ ‡é¢˜'
    },
    changeCount (state, newCount) {
      state.count = newCount
    }
  },
  // actionsç”¨æ¥é…åˆå¤„ç†å¼‚æ­¥(ä¸èƒ½ç›´æ¥æ“ä½œstate,è¿˜æ˜¯è¦commit è°ƒç”¨mutationsçš„æ–¹æ³•æ¥ä¿®æ”¹)
  actions: {
    // context ä¸Šä¸‹æ–‡(stateä»“åº“)  num è¦ä¿®æ”¹æˆçš„å€¼
    changeCountAsync (context, num) {
      // å¼‚æ­¥æ“ä½œ(æ›´å¤šçš„æ˜¯å‘è¯·æ±‚)
      setTimeout(() => {
        // context.commit(â€˜mutationæ–¹æ³•â€™,é¢å¤–å‚æ•°)
        context.commit('changeCount', num)
      }, 1000)
    }
  }
})
// jsæ¨¡å—ä¸­ç›´æ¥è®¿é—®
console.log(store.state.count)

export default store
```

```vue
<template>
  <div>
    <!-- æ¨¡æ¿ä¸­è®¿é—® -->
    <p>{{ $store.state.count }}</p>
    <br>
    <button @click="handleAdd(3)"> å€¼ + 3 </button>
    <input type="text" @input="inp" :value="count">
    <button @click="handleChange666">ä¸€ç§’åä¿®æ”¹ä¸º666</button>
    <button @click="changeCountAsync(888)">ä¸€ç§’ä»¥åæ”¹ä¸º888</button>

    <hr>
    <!-- æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨ -->
    <div>{{ $store.getters.filterList }}</div>
  </div>
</template>

<script>
import { mapActions, mapGetters, mapMutations, mapState } from 'vuex'

export default {
  name: 'app',
  created () {
    // ç»„ä»¶é€»è¾‘ä¸­è®¿é—®
    console.log(this.$store.state.count)
  },
  computed: {
    ...mapState(['count', 'title']),
    ...mapGetters(['filterList'])
  },
  methods: {
    ...mapMutations(['changeTitle']),
    ...mapActions(['changeCountAsync']),
    // æäº¤ç»™ä»“åº“æ›´æ–°çš„æ¶ˆæ¯
    handleAdd (n) {
      this.$store.commit('addCount', n)
      // ä¼ é€’å¤æ‚åŒ–å‚æ•°
      // this.$store.commit('addCount', {
      //   count: 100,
      //   title: '123'
      // })
    },
    inp (e) {
      const msg = +e.target.value
      this.$store.commit('changeCount', msg)
    },
    handleChange666 () {
      // æ³¨æ„è¿™é‡Œè°ƒç”¨çš„action(actionè‡ªå·±ä¼šå»è°ƒmutations)
      // 666å°±æ˜¯num
      this.$store.dispatch('changeCountAsync', 666)
    }
  }
}
</script>
```



#### 4.vuexåˆ†æ¨¡å—(å¤šä¸ªä»“åº“)

**åº”ç”¨å¤§å‹çš„æ—¶å€™ï¼Œä¸åˆ†å¤šä¸ªä»“åº“å®¹æ˜“ä½¿å¾—é¡¹ç›®éš¾ä»¥ç»´æŠ¤ã€‚** 

`ä½†æ˜¯æ•´ä¸ªvuexè¿˜æ˜¯å•ä¸€çŠ¶æ€æ ‘ï¼Œå­å¯¹è±¡ä¹Ÿæ˜¯æŒ‚è½½åœ¨çˆ¶äº²èŠ‚ç‚¹çš„stateä¸Šçš„`

![image-20230911213209955](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911213209955.png)



##### 1.è®¿é—®å­æ¨¡å—çš„state

![image-20230911213350842](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911213350842.png)

Â·æ˜ å°„å­æ¨¡å—çš„å…·ä½“å±æ€§Â·

![image-20230911214051143](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911214051143.png)



![image-20230911213523362](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911213523362.png)

`æ•´ä¸ªå­æ¨¡å—ç›´æ¥æ˜ å°„`

![image-20230911213639113](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911213639113.png)



##### 2.è®¿é—®å­æ¨¡å—çš„getters

![image-20230911214252817](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911214252817.png)

![image-20230911214424840](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911214424840.png)



**ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¿é—®å‘¢,æ‰“å°this.$store.getters**

![image-20230911214623010](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911214623010.png)

```bash
1.æˆ‘ä»¬è¦æŒ‚è½½å¸¦æœ‰ç‰¹æ®Šç¬¦å·çš„å¯¹è±¡é”®åè¦ç”¨ å¯¹è±¡['user/id']  (åŸç†æ˜¯ç›¸å½“äºæŠŠé”®ååŒ…æˆä¸€ä¸ªå­—ç¬¦ä¸²  '') 
2.ä¸èƒ½ç›´æ¥  å¯¹è±¡.user/id ä¼šæŠ¥é”™
```



**é€šè¿‡æ˜ å°„è®¿é—®æ›´å¿«æ·**

![image-20230911215424069](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911215424069.png)



##### 3.è®¿é—®å­æ¨¡å—çš„mutation

![image-20230911215051324](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911215051324.png)

![image-20230911215517375](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911215517375.png)



##### 4.è®¿é—®å­æ¨¡å—çš„actions

![image-20230911215707397](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911215707397.png)

![image-20230911220039034](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911220039034.png)



##### 5.æ¡ˆä¾‹

index.js

```js
import Vue from 'vue'
import Vuex from 'vuex'
import user from './modules/user'
import work from './modules/work'

Vue.use(Vuex)

const store = new Vuex.Store({
  // æä¾›å…¬å…±è®¿é—®çš„æ•°æ®ä»“åº“
  state: {
    count: 1,
    title: 'ä½ å¥½',
    list: [1, 2, 3, 4, 5, 6, 7]
  },
  // ç±»ä¼¼äºè®¡ç®—å±æ€§(ä½†æ˜¯æ²¡æœ‰setä¿®æ”¹ è¿˜æ˜¯è¦é€šè¿‡mutationsä¿®æ”¹)
  getters: {
    // 1.getterså‡½æ•°çš„ç¬¬ä¸€ä¸ªå‡½æ•°æ˜¯ state
    // 2.getterså‡½æ•°å¿…é¡»è¦æœ‰è¿”å›å€¼
    // gettersä¹Ÿæ˜¯å“åº”å¼çš„ ä¹Ÿæœ‰è®¡ç®—å±æ€§çš„ç¼“å­˜ç‰¹æ€§
    filterList (state) {
      return state.list.filter(item => item > 5)
    }
  },
  // mutationsçš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯state,ç¬¬äºŒä¸ªå‚æ•°æ˜¯æäº¤è½½è·(ä¼ è¿‡æ¥çš„å‚æ•°)
  // åªèƒ½ä¼ é€’ä¸€ä¸ªè½½è·(éœ€è¦å¤šä¸ªå‚æ•°å°±è¦åŒ…è£…æˆä¸€ä¸ªå¯¹è±¡)
  mutations: {
    addCount (state, n) {
      state.count += n
    },
    changeTitle (state) {
      state.title = 'æ›´æ–°æ ‡é¢˜'
    },
    changeCount (state, newCount) {
      state.count = newCount
    }
  },
  // actionsç”¨æ¥é…åˆå¤„ç†å¼‚æ­¥(ä¸èƒ½ç›´æ¥æ“ä½œstate,è¿˜æ˜¯è¦commit è°ƒç”¨mutationsçš„æ–¹æ³•æ¥ä¿®æ”¹)
  actions: {
    // context ä¸Šä¸‹æ–‡(stateä»“åº“)  num è¦ä¿®æ”¹æˆçš„å€¼
    changeCountAsync (context, num) {
      // å¼‚æ­¥æ“ä½œ(æ›´å¤šçš„æ˜¯å‘è¯·æ±‚)
      setTimeout(() => {
        // context.commit(â€˜mutationæ–¹æ³•â€™,é¢å¤–å‚æ•°)
        context.commit('changeCount', num)
      }, 1000)
    }
  },
  modules: {
    // æŒ‚è½½
    user, work
  }
})
// jsæ¨¡å—ä¸­ç›´æ¥è®¿é—®
console.log(store.state.count)

export default store
```

work.js

```js
const state = {
  user: {
    name: 'æˆ‘æ˜¯é»„å®‡',
    age: 18
  }
}

const mutations = {
  // æä¾›ä¸€ä¸ªæ›´æ–°çš„æ–¹æ³•
  changeUserCount (state, obj) {
    state.user.name = obj.name
    state.user.age = obj.age
  }
}

const actions = {
  // ä¸€ç§’ä»¥åæ‰ä¼šæ›´æ–°
  // contextæ˜¯å½“å‰ä»“åº“(å­æ¨¡å—)çš„state æ‰€ä»¥æ˜¯ä¸Šä¸‹æ–‡(é»˜è®¤æäº¤çš„æ˜¯è‡ªå·±çš„state)
  // newUser å°±æ˜¯ App ä¼ è¿‡æ¥çš„å‚æ•°
  asyncChange (context, newUser) {
    setTimeout(() => {
      // å¼‚æ­¥æ“ä½œåæäº¤
      context.commit('changeUserCount', newUser)
    }, 1000)
  }
}

const getters = {}

export default {
  // å¼€å¯å‘½åç©ºé—´
  namespaced: true,
  state,
  mutations,
  actions,
  getters
}
```

APP

```vue
<template>
  <div>
    <!-- æ¨¡æ¿ä¸­è®¿é—® -->
    <p>{{ $store.state.count }}</p>
    <br>
    <button @click="handleAdd(3)"> å€¼ + 3 </button>
    <input type="text" @input="inp" :value="count">
    <button @click="handleChange666">ä¸€ç§’åä¿®æ”¹ä¸º666</button>
    <button @click="changeCountAsync(888)">ä¸€ç§’ä»¥åæ”¹ä¸º888</button>

    <hr>
    <!-- æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨ -->
    <div>{{ $store.getters.filterList }}</div>

    <hr>

    <div>{{ user }}</div>
    <button @click="fn">ä¸€ç§’å°±ç»™é»„å®‡æ”¹å</button>
    <button @click="asyncChange({
      name: 'æ­»ç‹—æ›´æ–°' , age: 55
    })">mapæ˜ å°„ç»™æ­»ç‹—æ”¹å</button>
  </div>
</template>

<script>
import { mapActions, mapGetters, mapMutations, mapState } from 'vuex'

export default {
  name: 'app',
  created () {
    // ç»„ä»¶é€»è¾‘ä¸­è®¿é—®
    console.log(this.$store.state.count)
  },
  computed: {
    ...mapState(['count', 'title']),
    ...mapGetters(['filterList']),
    // é€šè¿‡ æ¨¡å—å  æ˜ å°„ æ¨¡å—å†…çš„æ•°æ®
    ...mapState('work', ['user'])
  },
  methods: {
    ...mapMutations(['changeTitle']),
    ...mapActions(['changeCountAsync']),
    ...mapActions('work', ['asyncChange']),
    // æäº¤ç»™ä»“åº“æ›´æ–°çš„æ¶ˆæ¯
    handleAdd (n) {
      this.$store.commit('addCount', n)
      // ä¼ é€’å¤æ‚åŒ–å‚æ•°
      // this.$store.commit('addCount', {
      //   count: 100,
      //   title: '123'
      // })
    },
    inp (e) {
      const msg = +e.target.value
      this.$store.commit('changeCount', msg)
    },
    handleChange666 () {
      // æ³¨æ„è¿™é‡Œè°ƒç”¨çš„action(actionè‡ªå·±ä¼šå»è°ƒmutations)
      // 666å°±æ˜¯num
      this.$store.dispatch('changeCountAsync', 666)
    },
    fn () {
      this.$store.dispatch('work/asyncChange', {
        name: 'æ­»ç‹—å®‡', age: 28
      })
    }
  }
}
</script>

<style>

</style>

```



#### 5.ç»¼åˆæ¡ˆä¾‹è´­ç‰©è½¦ ç»ƒä¹ Vuex

##### 1.åˆ†æé¡¹ç›®

![image-20230911222524217](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230911222524217.png)



##### 2.å‡†å¤‡åç«¯æ¥å£æ•°æ®(json-server)

![image-20230913214939913](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230913214939913.png)



##### 3.åˆ†æ

![1694613066502](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/1694613066502.png)



##### 4.å®Œæ•´æ¡ˆä¾‹ VUE2->vue_cart

index.js 

```js
import Vue from 'vue'
import Vuex from 'vuex'
import cart from './modules/cart'
Vue.use(Vuex)

const store = new Vuex.Store({
  modules: {
    cart
  }
})

export default store
```

cart.js

```js
import axios from 'axios'

export default {
  namespaced: true,
  state () {
    return {
      // è´­ç‰©è½¦æ•°æ®
      list: []
    }
  },
  mutations: {
    // 1. è®¾ç½®æ–¹æ³•è·å–æœ€æ–°çš„list
    updateList (state, newList) {
      state.list = newList
    },
    // æ›´æ–°æ•°é‡çš„æ–¹æ³• (å¯¹è±¡ {id: xx , newCount: xx})
    updateCount (state, obj) {
      // æ‰¾åˆ°å¯¹åº”çš„é¡¹find
      const goods = state.list.find(item => item.id === obj.id)
      // æ›´æ–°å®ƒçš„count
      goods.count = obj.newCount
    }
  },
  actions: {
    // 2.å¼‚æ­¥è·å–æ•°æ®
    async getList (context) {
      const res = await axios.get('http://localhost:3000/cart')
      // 4.è°ƒç”¨mutationsæ–¹æ³•å­˜åˆ°listæ•°ç»„
      // console.log(res)
      context.commit('updateList', res.data)
    },

    // æä¾›ä¸€ä¸ªå‡½æ•°å‘åå°æäº¤ä¿®æ”¹æ•°æ®
    async updateCountAsync (context, obj) {
      // 1.åå°æ›´æ–°
      await axios.patch(`http://localhost:3000/cart/${obj.id}`, {
        // å°†å¯¹åº”idçš„countæ›´æ–°
        count: obj.newCount
      })
      // 2.å‰ç«¯æ›´æ–°(mutationså‡½æ•°)
      context.commit('updateCount', {
        id: obj.id,
        newCount: obj.newCount
      })
    }
  },
  getters: {
    // ä¾èµ–äºstate ç›¸å½“äºè®¡ç®—å±æ€§
    total (state) {
      // å¿…é¡»è¿”å›
      return state.list.reduce((sum, item) => sum + item.count, 0)
    },
    totalPrice (state) {
      return state.list.reduce((sum, item) => sum + item.count * item.price, 0)
    }
  }
}
```

app

```vue
<template>
  <div class="app-container">
    <!-- Header åŒºåŸŸ -->
    <cart-header></cart-header>

    <!-- å•†å“ Item é¡¹ç»„ä»¶ -->    <!-- itemä¹Ÿè¦ä¼ è¿‡å» -->
    <cart-item v-for="item in list" :key="item.id" :item="item"></cart-item>

    <!-- Foote åŒºåŸŸ -->
    <cart-footer>123</cart-footer>
  </div>
</template>

<script>
import CartHeader from '@/components/cart-header.vue'
import CartFooter from '@/components/cart-footer.vue'
import CartItem from '@/components/cart-item.vue'
import { mapState } from 'vuex'

export default {
  name: 'App',
  created () {
    // 3.é¡µé¢è°ƒç”¨actionsè·å–æ•°æ®
    this.$store.dispatch('cart/getList')
  },
  computed: {
    // 5.åˆ©ç”¨è¾…åŠ©å‡½æ•°æ˜ å°„åˆ°computed
    ...mapState('cart', ['list'])
  },
  components: {
    CartHeader,
    CartFooter,
    CartItem
  }
}
</script>

<style lang="less" scoped>
.app-container {
  padding: 50px 0;
  font-size: 14px;
}
</style>
```

cart-item

```vue
<template>
  <div class="goods-container">
    <!-- å·¦ä¾§å›¾ç‰‡åŒºåŸŸ -->
    <div class="left">
      <img :src="item.thumb" class="avatar" alt="">
    </div>
    <!-- å³ä¾§å•†å“åŒºåŸŸ -->
    <div class="right">
      <!-- æ ‡é¢˜ -->
      <div class="title">{{ item.name }}</div>
      <div class="info">
        <!-- å•ä»· -->
        <span class="price">ï¿¥{{ item.price }}</span>
        <div class="btns">
          <!-- æŒ‰é’®åŒºåŸŸ -->
          <button class="btn btn-light" @click="btnClick(-1)">-</button>
          <span class="count">{{ item.count }}</span>
          <button class="btn btn-light"  @click="btnClick(1)">+</button>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'CartItem',
  methods: {
    btnClick (step) {
      const newCount = this.item.count + step
      const id = this.item.id
      if (newCount < 1) return
      // è°ƒç”¨æ›´æ–°çš„å¼‚æ­¥æ–¹æ³•
      this.$store.dispatch('cart/updateCountAsync', {
        id, newCount
      })
    }
  },
  props: {
    item: {
      type: Object,
      require: true
    }
  }
}
</script>

<style lang="less" scoped>
.goods-container {
  display: flex;
  padding: 10px;
  + .goods-container {
    border-top: 1px solid #f8f8f8;
  }
  .left {
    .avatar {
      width: 100px;
      height: 100px;
    }
    margin-right: 10px;
  }
  .right {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    flex: 1;
    .title {
      font-weight: bold;
    }
    .info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      .price {
        color: red;
        font-weight: bold;
      }
      .btns {
        .count {
          display: inline-block;
          width: 30px;
          text-align: center;
        }
      }
    }
  }
}

.custom-control-label::before,
.custom-control-label::after {
  top: 3.6rem;
}
</style>
```



footer

```vue
<template>
  <div class="footer-container">
    <!-- ä¸­é—´çš„åˆè®¡ -->
    <div>
      <span>å…± {{ total }}ä»¶å•†å“ï¼Œåˆè®¡ï¼š</span>
      <span class="price">ï¿¥{{ totalPrice }}</span>
    </div>
    <!-- å³ä¾§ç»“ç®—æŒ‰é’® -->
    <button class="btn btn-success btn-settle">ç»“ç®—</button>
  </div>
</template>

<script>
import { mapGetters } from 'vuex'
export default {
  name: 'CartFooter',
  computed: {
    ...mapGetters('cart', ['total', 'totalPrice'])
  }
}
</script>

<style lang="less" scoped>
.footer-container {
  background-color: white;
  height: 50px;
  border-top: 1px solid #f8f8f8;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding: 0 10px;
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  z-index: 999;
}

.price {
  color: red;
  font-size: 13px;
  font-weight: bold;
  margin-right: 10px;
}

.btn-settle {
  height: 30px;
  min-width: 80px;
  margin-right: 20px;
  border-radius: 20px;
  background: #42b983;
  border: none;
  color: white;
}
</style>

```



#### 6.é»‘é©¬è´­ç‰©è½¦é¡¹ç›®

##### 1.vant-uiå¼•å…¥

`vant2æ”¯æŒvue2  vant3å’Œvant4æ”¯æŒvue3`

##### 2.ç»„ä»¶åº“

![image-20230914161720819](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230914161720819.png)



##### 3.ç»„ä»¶åº“çš„åŸºæœ¬ä½¿ç”¨æ­¥éª¤

æœ€å¥½ä½¿ç”¨æŒ‰éœ€å¯¼å…¥(ç§»åŠ¨ç«¯æœ€åœ¨æ„çš„æ˜¯æ€§èƒ½)

1. å…¨éƒ¨å¯¼å…¥

![image-20230914162155941](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230914162155941.png)

2. æŒ‰éœ€å¯¼å…¥

![image-20230914164316158](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230914164316158.png)

![image-20230914162808252](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230914162808252.png)

`æŠŠvantæŒ‰éœ€å¯¼å…¥çš„ä»£ç æŠ½ç¦»æˆjsæ–‡ä»¶,åœ¨mainæ–‡ä»¶å¯¼å…¥ï¼Œè¿™æ ·å¥½ç»´æŠ¤`



##### 4.ç§»åŠ¨ç«¯vwé€‚é…(é€‚åˆvantä½¿ç”¨)

**100vwæ˜¯æ•´ä¸ªå±å¹•çš„å®½**

![image-20230914165145987](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230914165145987.png)

é…ç½®æ–‡ä»¶ é€‚é…1.1.1ç‰ˆæœ¬ ä¸åŒç‰ˆæœ¬é…ç½®çœ‹vantå®˜ç½‘

```js
// postcss.config.js
module.exports = {
  plugins: {
    'postcss-px-to-viewport': {
      // vwé€‚é…çš„æ ‡å‡†å±å¹•å®½åº¦
      // è®¾è®¡å›¾750è°ƒæˆ1å€ => é€‚é…375px
      // è®¾è®¡å›¾640è°ƒæˆ1å€ => é€‚é…320px
      // å¯ä»¥ä½¿ç”¨è“ç‹å·¥å…·è¿›è¡Œè°ƒå€æ•°
      viewportWidth: 375,
    },
  },
};
```

è®¾ç½®ç›’å­ä¸º300pxå,æµè§ˆå™¨ç”Ÿæ•ˆæ ·å¼80vw   è‡ªåŠ¨è®¡ç®—    è®¡ç®—å…¬å¼: `300 / 375 * 100vw`

`https://fotoflexer.com/editor/  åœ¨çº¿ä¿®æ”¹æ¯”ä¾‹åŠä¿®å›¾`



##### 5.è·¯ç”±é…ç½®

![image-20230914191712548](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230914191712548.png)

![image-20230914191638761](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230914191638761.png)



åº•éƒ¨å¯¼èˆª

![image-20230914194417043](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230914194417043.png)



2çº§è·¯ç”±(åœ¨layoutæä¾›2çº§è·¯ç”±å‡ºå£)

![image-20230914200549274](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230914200549274.png)



å¼€å¯vantæŒ‰é’®çš„è·¯ç”±æ¨¡å¼(ç›¸å½“äºå˜æˆäº†router-link)

![image-20230914200139892](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230914200139892.png)



##### 6.ç™»å½•é¡µ

1.é™æ€å¸ƒå±€

![image-20230916143659080](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230916143659080.png)

å¤´éƒ¨ç»„ä»¶ç›´æ¥ç”¨çš„vantç»„ä»¶åº“  å¯¼èˆªçš„é¢œè‰²æ ·å¼æå–åˆ°äº†å…¬å…±çš„æ ·å¼è¡¨ä¸­



2.å°è£…requestæ¨¡å—

![image-20230916144027013](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230916144027013.png)

**æ¥å£æ–‡æ¡£ï¼š[10. è·å–å›¾å½¢éªŒè¯ç  - æ™ºæ…§å•†åŸ-å®æˆ˜é¡¹ç›® (apifox.com)](https://apifox.com/apidoc/shared-12ab6b18-adc2-444c-ad11-0e60f5693f66/api-70224089)**

ç¼–å†™æ¥å£æ–‡æ¡£: `ç”¨swaggerè‡ªåŠ¨ç”Ÿæˆï¼Œç„¶åå¯¼å…¥ApiFoxç”Ÿæˆæ–‡æ¡£`



3.å›¾å½¢éªŒè¯ç æ¸²æŸ“

![image-20230916151329232](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230916151329232.png)



##### 7.apiæ¥å£æ¨¡å—

![image-20230916152504414](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230916152504414.png)

**å› ä¸ºè¯·æ±‚æ€»æ˜¯é‡å¤çš„ï¼Œè€Œä¸”ä¹Ÿä¸æ˜¯é¡µé¢é€»è¾‘ï¼Œæ‰€ä»¥å»ºè®®éƒ½åˆ†ç¦»å‡ºå»**



##### 8.vant toastæç¤ºæ¡†

![image-20230917122147374](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230917122147374.png)

åŸå‹æŒ‚è½½ä»¥åï¼Œvueå’Œä»–åˆ›å»ºçš„å®ä¾‹éƒ½å¯ä»¥è®¿é—®åˆ°  ç»„ä»¶å°±æ˜¯vueåˆ›å»ºå‡ºæ¥çš„ä¸€ä¸ªä¸ªå®ä¾‹



##### 9.ç™»å½•é¡µçŸ­ä¿¡éªŒè¯ç 

![image-20230917135428650](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230917135428650.png)



##### 10.ç™»å½•é¡µç™»å½•åŠŸèƒ½

![image-20230917140938627](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230917140938627.png)



##### 11.å“åº”æ‹¦æˆªå™¨(æ‰€æœ‰é”™è¯¯ç»Ÿä¸€å¤„ç†)

![image-20230917203440730](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230917203440730.png)



##### 12.ç™»å½•æƒè¯å­˜å‚¨(tokenå’Œuserid)

![image-20230917211129348](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230917211129348.png)



##### 13.storageå­˜å‚¨æ¨¡å—

![image-20230917211530417](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230917211530417.png)



##### 14.è¯·æ±‚loadingæ•ˆæœ

![image-20230918204723299](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230918204723299.png)

![image-20230918205858500](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230918205858500.png)

![image-20230918205909798](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230918205909798.png)



##### 15.é¡µé¢è®¿é—®æ‹¦æˆª

![image-20230918210010594](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230918210010594.png)

åˆ©ç”¨å…¨å±€å‰ç½®å®ˆå«



##### 16.homeé¡µé¢ é¦–é¡µ

![image-20230918221605389](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230918221605389.png)



##### 17.æœç´¢é¡µé¢å†å²è®°å½•

![image-20230920201444734](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230920201444734.png)

ä¸€èˆ¬ä¸ç”¨å¾€æ•°æ®åº“å­˜ï¼Œå¦‚æœè¦è€ƒè™‘å¤šç«¯åŒæ­¥æ‰éœ€è¦å­˜æ•°æ®åº“(ä¸€èˆ¬æ˜¯æµè§ˆå™¨è®°å½•ã€è§†é¢‘éŸ³é¢‘æ‰éœ€è¦)



##### 18.æœç´¢åˆ—è¡¨é¡µ

![image-20230920221126335](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230920221126335.png)



##### 19.å•†å“è¯¦æƒ…

![image-20230921200037792](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230921200037792.png)



##### 20åŠ å…¥è´­ç‰©è½¦ ç«‹å³è´­ä¹°å¼¹çª—

![image-20230921205204275](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230921205204275.png)



##### 21.æ•°å­—æ¡†ç»„ä»¶

![image-20230921205315899](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230921205315899.png)



##### 22.åŠ å…¥è´­ç‰©è½¦

![image-20230921214628767](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230921214628767.png)

![image-20230921214643838](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230921214643838.png)



##### 23.è´­ç‰©è½¦é¡µé¢æ¨¡å—

![image-20230924104251400](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230924104251400.png)



##### 24.è®¢å•ç»“ç®—é¡µé¢

![image-20230924195158794](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230924195158794.png)



##### 25.ç¡®è®¤è®¢å•ä¿¡æ¯--è´­ç‰©è½¦ç»“ç®—

![image-20230924213941689](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20230924213941689.png)



##### 26.ç«‹å³è´­ä¹°ç»“ç®—

![image-20231006174551950](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231006174551950.png)



æ··å…¥mixins

```js
// æ··å…¥çš„åŸç†å°±ç›¸å½“äºå±•å¼€è¿ç®—ç¬¦  (obj1,...obj2) æŠŠobj2å±•å¼€å¡åˆ°obj1ä¸­
// æ··å…¥çš„ä½¿ç”¨åœºæ™¯ä¸º æå–é¡µé¢çš„å…¬å…±ä¸šåŠ¡é€»è¾‘(å¤šç»„ä»¶è·¨ç»„ä»¶ä½¿ç”¨) æ¯”å¦‚å¼¹å‡ºç™»å½•æç¤º
export default {
  // æ­¤å¤„ç¼–å†™çš„å°±æ˜¯ Vueç»„ä»¶å®ä¾‹çš„ é…ç½®é¡¹ï¼Œé€šè¿‡ä¸€å®šè¯­æ³•ï¼Œå¯ä»¥ç›´æ¥æ··å…¥åˆ°ç»„ä»¶å†…éƒ¨
  // data methods computed ç”Ÿå‘½å‘¨æœŸå‡½æ•° ...
  // æ³¨æ„ç‚¹ï¼š
  // 1. å¦‚æœæ­¤å¤„ å’Œ ç»„ä»¶å†…ï¼Œæä¾›äº†åŒåçš„ data æˆ– methodsï¼Œ åˆ™ç»„ä»¶å†…ä¼˜å…ˆçº§æ›´é«˜
  // 2. å¦‚æœç¼–å†™äº†ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œåˆ™mixinsä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•° å’Œ é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œä¼šç”¨æ•°ç»„ç®¡ç†ï¼Œç»Ÿä¸€æ‰§è¡Œ
  // created () {
  //   // console.log('å˜å˜')
  // },
  // data () {
  //   return {
  //     title: 'æ ‡é¢˜'
  //   }
  // },
  methods: {
    // è¯¥æ–¹æ³•æ ¹æ®ç™»å½•çŠ¶æ€ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦æ˜¾ç¤ºç™»å½•ç¡®è®¤æ¡†
    // å¦‚æœæ˜¯æœªç™»å½• è¿”å›true
    // å¦‚æœå·²ç»ç™»å½• æ”¾å›false
    loginConfirm () {
      // åˆ¤æ–­tokenæ˜¯å¦å­˜åœ¨
      // 1.tokenå­˜åœ¨  ç»§ç»­æ“ä½œ
      // 2.tokenä¸å­˜åœ¨  å¼¹å‡ºç¡®è®¤æ¡†
      if (!this.$store.getters.token) {
        // åˆ©ç”¨vantçš„å¼¹å‡ºæ¡†
        this.$dialog.confirm({
          title: 'æ¸©é¦¨æç¤º',
          message: 'è¯·å…ˆç™»å½•æ‰èƒ½ç»§ç»­æ“ä½œå“¦',
          confirmButtonText: 'å»ç™»å½•',
          cancelButtonText: 'åœ¨é€›é€›'
          // thenè¡¨ç¤ºç¡®è®¤
          // å¦‚æœå¸Œæœ›è·³è½¬åˆ°ç™»å½•ä»¥åèƒ½å›è·³å›å½“å‰é¡µé¢(è¿™æ ·ç”¨æˆ·ä½“éªŒå¥½)
          // éœ€è¦åœ¨è·³è½¬å‰æºå¸¦å½“å‰çš„è·¯å¾„åœ°å€
          // fullPathå­˜åœ¨this.$route  ä»–ä¼šæºå¸¦æŸ¥è¯¢å‚æ•° æ•´ä¸ªè·¯å¾„çš„å†…å®¹
        }).then(() => {
          // è·¯ç”±è·³è½¬ $routerå¯¹è±¡ è¦ç”¨replace ä¸ç•™å†å²è®°å½• è¿™æ ·ä»¥åå›é€€æ˜¯å»å•†å“åˆ—è¡¨é¡µ
          this.$router.replace({
            path: '/login', // è·³è½¬åˆ°ç™»å½•é¡µ
            query: {
              backUrl: this.$route.fullPath
            }
          })
        }
        ).catch(() => {})
        // catchè¡¨ç¤ºå–æ¶ˆ ä»€ä¹ˆä¹Ÿä¸å¹²
        return true
      }
      return false
    }
  }
}

```



##### 27.æ”¯ä»˜è®¢å•

![image-20231006194006942](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231006194006942.png)



##### 28.è®¢å•ç®¡ç†--ä¸ªäººä¸­å¿ƒ

![image-20231006204938364](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231006204938364.png)



è·¨æ¨¡å—è®¿é—®

![1696594977039](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/1696594977039.png)



##### 29.é¡¹ç›®æ‰“åŒ…å‘å¸ƒ

![image-20231006205142427](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231006205142427.png)



é…ç½®ï¼šå¦‚æœä¸é…ç½®é¡¹ç›®æ— æ³•è®¿é—®åˆ°å¯¹çš„è·¯å¾„

å¦‚æœæ²¡æœ‰é…ç½®,è¿™ä¸ªé¡¹ç›®å¿…é¡»æ”¾åœ¨æœåŠ¡å™¨æ ¹ç›®å½•ä¸‹æ‰å¯ä»¥è¿›è¡Œè®¿é—®ï¼Œä¹Ÿä¸èƒ½æœ¬åœ°åŒå‡»æ‰“å¼€ï¼Œé…ç½®ä»¥åå¯ä»¥æ”¾åœ¨æœåŠ¡å™¨çš„ä»»æ„ä½ç½®ï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯ç›¸å¯¹è·¯å¾„

![image-20231006205736592](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231006205736592.png)



æ‰“åŒ…ä¼˜åŒ– é€šè¿‡è·¯ç”±è®¿é—®åŸåˆ™æ¥åˆ†æ¨¡å— æŒ‰éœ€åŠ è½½è¿›è¡Œä¼˜åŒ–

![image-20231006210331281](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231006210331281.png)

æ­¤æ—¶æ‰“åŒ…ä»¥åä¼šç”Ÿæˆæ›´å¤šçš„jså’Œcss åœ¨æˆ‘ä»¬è®¿é—®åˆ°æ–°è·¯ç”±æ—¶åœ¨æŒ‰éœ€åŠ è½½







# vue3

## 1.vue3çš„ä¼˜åŠ¿

![image-20231011193309824](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011193309824.png)

5.ä¸ç”¨è€ƒè™‘thisæŒ‡å‘



### 1.ç»„åˆå¼APIçš„ä¼˜åŠ¿

é¡¹ç›®è¶Šå¤§é€‰é¡¹å¼APIçš„éš¾ä»¥ç»´æŠ¤è¶Šä¸¥é‡

vue3æ›´å®¹æ˜“å¤ç”¨ï¼Œåœ¨vue2ä¸­æˆ‘ä»¬è¦ä½¿ç”¨minxsæ··å…¥ï¼Œä½†æ˜¯åœ¨vue3æˆ‘ä»¬ç›´æ¥æŠŠéœ€è¦å¤ç”¨çš„ä»£ç å°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œå¯¼å…¥æ–°ç»„ä»¶å³å¯

ä»£ç é‡ä¹Ÿæ›´å°‘

![image-20231011193714181](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011193714181.png)

![image-20231011193940802](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011193940802.png)



## 2.åŸºæœ¬ä½¿ç”¨

### 1.viteåˆ›å»ºé¡¹ç›®

![image-20231011194121381](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011194121381.png)

![image-20231011194425932](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011194425932.png)

![image-20231011203438893](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011203438893.png)

è¦é€‰æ‹©è¿™ä¸ªCustomize with create-vue

![image-20231011203452316](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011203452316.png)



### 2.é¡¹ç›®è§£æ

![image-20231011203555761](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011203555761.png)

`vue3å°†æ‰€æœ‰åˆ›å»ºéƒ½å°è£…æˆäº†å‡½æ•°`

![image-20231011203926270](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011203926270.png)



vscodeæ”¯æŒçš„vue3æ’ä»¶,vue2æ˜¯vetur

![image-20231011203724813](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011203724813.png)



## 3.ç»„åˆå¼APIè¯¦æƒ…

### 1.setupé€‰é¡¹

![image-20231011204057529](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011204057529.png)



1.setupæ‰§è¡Œæ—¶æœº,æ¯”beforeCreateè¿˜è¦æ—©

2.setupå‡½æ•°ä¸­ï¼Œè·å–ä¸åˆ°this(æ—¶æœºå¤ªæ—©ï¼Œthisæ˜¯undefined)

3.åœ¨vue3ä¸­ï¼Œä¸ç”¨å»è€ƒè™‘thisçš„æŒ‡å‘äº†

4.è¿™ç§å†™æ³•ï¼Œæ‰€æœ‰æ•°æ®å’Œå‡½æ•°éƒ½éœ€è¦returnæ‰èƒ½ä½¿ç”¨

![image-20231011204125116](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011204125116.png)



**setupè¯­æ³•ç³–**

![image-20231011204542200](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011204542200.png)



**setupè¯­æ³•ç³–åŸç†**

![image-20231011204815629](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011204815629.png)



**æ€»ç»“**

![image-20231011204855759](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011204855759.png)



### 2.reactiveå’Œrefå‡½æ•°

`åœ¨vue3ä¸­ï¼Œæ•°æ®å®šä¹‰å‡ºæ¥é»˜è®¤ä¸æ˜¯å“åº”å¼çš„ï¼Œreactä¹Ÿæ˜¯è¿™ç§è®¾å®šï¼Œå› ä¸ºåœ¨ä¸€ä¸ªé¡µé¢ä¸­éœ€è¦å“åº”å¼çš„æ•°æ®æ˜¯æ¯”è¾ƒå°‘çš„ï¼Œè¿™æ ·è®¾è®¡å¯ä»¥å‡å°‘vue2ä¸­æ‰€æœ‰æ•°æ®éƒ½æ˜¯å“åº”å¼çš„å¼€é”€`

  `refæ€§èƒ½æ›´å¥½ï¼Œç„¶åæ—¢å¯ä»¥æ¥æ”¶å¯¹è±¡ä¹Ÿå¯ä»¥æ˜¯å˜é‡ï¼Œä»¥åéƒ½ç”¨è¿™ä¸ªå°±å¥½`

![image-20231011205802172](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011205802172.png)

è¿™ä¸ªä¸éœ€è¦åŠ ä¹Ÿæ˜¯ä¸€ä¸ªè¦æ³¨æ„çš„ç‚¹



### 3.computedè®¡ç®—å±æ€§

```bash
1.è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„ä¾èµ–è¿›è¡Œç¼“å­˜çš„ï¼Œåªæœ‰åœ¨ä¾èµ–å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œå®ƒä»¬æ‰ä¼šé‡æ–°è®¡ç®—ï¼Œå¦åˆ™ï¼Œå®ƒä»¬æ˜¯ä¸å˜çš„ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯æ¯æ¬¡è®¿é—®è®¡ç®—å±æ€§æ—¶ï¼Œå¦‚æœä¾èµ–æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå®ƒä»¬å¯ä»¥ç«‹å³è¿”å›ç»“æœï¼Œè€Œä¸éœ€è¦è¿›è¡Œå¤æ‚çš„é€»è¾‘è¿ç®—ã€‚è€Œmethodsä¸­çš„æ–¹æ³•ï¼Œåªè¦è¢«è§¦å‘ï¼Œè¢«è°ƒç”¨çš„æ–¹æ³•å°±ä¼šç«‹å³æ‰§è¡Œå¯¹åº”å‡½æ•°ï¼Œé‡æ–°è¿›è¡Œæ¸²
```



![image-20231011210144582](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011210144582.png)

æ›´å¤šçš„åŠŸèƒ½å‚è€ƒvue3å®˜ç½‘API

![image-20231011210332737](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011210332737.png)



**æ€»ç»“**

![image-20231011210425574](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231011210425574.png)



**å¼‚æ­¥å’Œdomè¿™ç§å‰¯ä½œç”¨éƒ½ä¸¢åˆ°watchå»   å…¨é€‰åé€‰æƒ…å†µä¸‹æ‰é€‚åˆé…ç½®get setçš„è®¡ç®—å±æ€§**



### 4.watch

![image-20231015213648340](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015213648340.png)



![image-20231015213701687](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015213701687.png)

`tip:watchç›‘è§†çš„éƒ½æ˜¯å“åº”å¼æ•°æ®`

![image-20231015214122463](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015214122463.png)



#### 1.é¢å¤–é…ç½®å¯¹è±¡immediateå’Œdeep

![image-20231015214247692](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015214247692.png)



è¿™æ ·æ˜¯ç›‘è§†ä¸åˆ°çš„

![image-20231015214416483](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015214416483.png)

é»˜è®¤æ˜¯æµ…å±‚ç›‘è§†ï¼Œåªæœ‰å½“å¯¹è±¡å¼•ç”¨åœ°å€æ”¹å˜ä»¥åæ‰ä¼šç›‘è§†åˆ°

![image-20231015214530255](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015214530255.png)

è¿™æ ·å¼€å¯ä»¥åæ‰èƒ½ç›‘å¬å¯¹è±¡å†…éƒ¨æ•°æ®çš„å˜åŒ–

![image-20231015214644316](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015214644316.png)



#### 2.ç²¾ç¡®ç›‘å¬å¯¹è±¡çš„æŸä¸ªæ•°æ®

deepæ˜¯ç›‘å¬æ•´ä¸ªå¯¹è±¡çš„å±æ€§

![image-20231015214744208](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015214744208.png)

![image-20231015214852777](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015214852777.png)



æ€»ç»“

![image-20231015215003803](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015215003803.png)



### 5.ç”Ÿå‘½å‘¨æœŸå‡½æ•°

![image-20231015215033067](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015215033067.png)

![image-20231015220132438](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015220132438.png)

setup

![image-20231015215216985](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015215216985.png)



onMounted

ä»¥å‰çš„å†™æ³•æ˜¯åªæœ‰ä¸€ä¸ªMountedé…ç½®å‡½æ•°ï¼Œæ‰€æœ‰é€»è¾‘åªèƒ½å†™åœ¨ä¸€èµ·ä¸å¥½åˆ†ç¦»

Vue3å°è£…æˆäº†ä¸€ä¸ªä¸ªå‡½æ•°æ¥è°ƒç”¨

![image-20231015215322997](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015215322997.png)



#### 1.vue3ç»„åˆå¼APIç”Ÿå‘½å‘¨æœŸå›¾

![lifecycle.16e4c08e](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/lifecycle.16e4c08e.png)

#### 2.æ³¨æ„äº‹é¡¹

ç”Ÿå‘½å‘¨æœŸå‡½æ•°åº”è¯¥æ˜¯åŒæ­¥è°ƒç”¨çš„ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆ

![image-20231015215748271](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015215748271.png)



### 6.çˆ¶å­é€šä¿¡

#### 1.porpsçˆ¶ä¼ å­

å’Œvue2æ€æƒ³ä¸€è‡´ï¼Œå†™æ³•ä¸åŒ

çˆ¶ä¼ å­

![image-20231015222129242](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015222129242.png)



ä¾‹å­ï¼š

![image-20231015222709935](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015222709935.png)

å“åº”å¼æ•°æ®ä¹Ÿæ˜¯å¯ä»¥ä¼ é€’ä¸‹å»çš„,æ¨¡æ¿ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨propçš„å…·ä½“å±æ€§ï¼Œä¸ç”¨props.xxx



vue3ç»„ä»¶çš„å…¨å±€æ³¨å†Œ



**definePopsçš„åŸç†**

![image-20231015222839960](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015222839960.png)

##### 1.è¡¥å…… useAttrs

![image-20231016182938037](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016182938037.png)

![image-20231016182954979](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016182954979.png)

#### 2.emitså­ä¼ çˆ¶

![image-20231015223049510](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015223049510.png)

å®Œæ•´ä¾‹å­:

```vue
APP
<template>
  <h3>
    è¿™æ˜¯çˆ¶ç»„ä»¶
  </h3>
  <ChildApp car="å®é©¬è½¦" :money="money" @changeMoney="changeMoney"></ChildApp>
</template>

<script setup>
import ChildApp from './components/ChildApp.vue';
import { ref } from 'vue'
const money = ref(1000)

// å®šä¹‰æ”¹å˜moneyçš„æ–¹æ³•
const changeMoney = (newMoney) => {
  money.value = newMoney
}
</script>

ChildApp
<template>
    <div class="box1">
        æˆ‘æ˜¯å­ç»„ä»¶ -- {{ car }} -- {{ money }} <button @click="sendMsg">èŠ±é’±</button>
    </div>
</template>

<script setup>
const props = defineProps({
    car:String,
    money:Number
})
console.log(props)

const emit = defineEmits(['changeMoney'])

// å‘é€æ¶ˆæ¯æç¤ºçˆ¶ç»„ä»¶
const sendMsg = () => {
    emit('changeMoney' , props.money - 10)
}

</script>

<style scoped>
.box1{
    width: 100%;
    border: 1px solid #000;
    height: 100px;
    text-align: center;
    line-height: 100px;
}
</style>
```



æ€»ç»“

![image-20231015225000599](C:\Users\ttq\AppData\Roaming\Typora\typora-user-images\image-20231015225000599.png)



### 7.æ¨¡æ¿å¼•ç”¨(vue2ä¹Ÿæœ‰)é€šè¿‡ref

åœ¨ç°ä»£çš„å‰ç«¯æ¡†æ¶ä¸­ï¼Œæˆ‘ä»¬éƒ½æ˜¯å°½é‡é¿å…ç›´æ¥æ“ä½œDOMçš„ï¼Œä½†æ˜¯è‚¯å®šæœ‰ä¾‹å¤–çš„æƒ…å†µã€‚

#### 1.vue2

![image-20231015225606230](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015225606230.png)

è·å–domå¯¹è±¡

![image-20231015225640739](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015225640739.png)

ä½¿ç”¨å­ç»„ä»¶æ–¹æ³•

![image-20231015225720849](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015225720849.png)



#### 2.vue3è·å–ç»„ä»¶å’ŒDOMå®ä¾‹

è·å–DOM

![image-20231015225826528](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015225826528.png)





è·å–å­ç»„ä»¶

##### 1.defineExpose

**é€šè¿‡defineExposeæš´éœ²ç»„ä»¶çš„å±æ€§å’Œæ–¹æ³•å¼€æ”¾ç»™çˆ¶ç»„ä»¶è®¿é—®**

![image-20231015230353087](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015230353087.png)



å®Œæ•´ä¾‹å­

APP

```vue
<script setup>
import TestCom from '@/components/test-com.vue'
import { onMounted, ref } from 'vue'

// æ¨¡æ¿å¼•ç”¨(å¯ä»¥è·å–domï¼Œä¹Ÿå¯ä»¥è·å–ç»„ä»¶)
// 1. è°ƒç”¨refå‡½æ•°ï¼Œç”Ÿæˆä¸€ä¸ªrefå¯¹è±¡
// 2. é€šè¿‡refæ ‡è¯†ï¼Œè¿›è¡Œç»‘å®š
// 3. é€šè¿‡refå¯¹è±¡.valueå³å¯è®¿é—®åˆ°ç»‘å®šçš„å…ƒç´ (å¿…é¡»æ¸²æŸ“å®Œæˆåï¼Œæ‰èƒ½æ‹¿åˆ°)
const inp = ref(null)

// ç”Ÿå‘½å‘¨æœŸé’©å­ onMounted
onMounted(() => {
  // console.log(inp.value)
  // inp.value.focus()
})
const clickFn = () => {
  inp.value.focus()
}

// --------------------------------------
const testRef = ref(null)
const getCom = () => {
  console.log(testRef.value.count)
  testRef.value.sayHi()
}
</script>

<template>
  <div>
    <input ref="inp" type="text">
    <button @click="clickFn">ç‚¹å‡»è®©è¾“å…¥æ¡†èšç„¦</button>
  </div>
  <TestCom ref="testRef"></TestCom>
  <button @click="getCom">è·å–ç»„ä»¶</button>
</template>
```

test-con

```vue
<script setup>
const count = 999
const sayHi = () => {
  console.log('æ‰“æ‹›å‘¼')
}

defineExpose({
  count,
  sayHi
})
</script>

<template>
  <div>
    æˆ‘æ˜¯ç”¨äºæµ‹è¯•çš„ç»„ä»¶ - {{ count }}
  </div>
</template>
```



æ€»ç»“

![image-20231015230514967](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231015230514967.png)



### 8.provideå’Œinject æ¯”vue2å¥½ç”¨

![image-20231016175909656](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016175909656.png)



![image-20231016180407568](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016180407568.png)



**vscodeå¿«é€Ÿé…ç½®vue3æ¨¡æ¿**

[vscodeä¸­å¦‚ä½•å¿«é€Ÿç”Ÿæˆvue3æ¨¡æ¿-éå¸¸å®ç”¨çš„å°æŠ€å·§_vscodeå¿«é€Ÿç”Ÿæˆvueæ¨¡æ¿_China_YFçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/m0_37873510/article/details/127794163)



ä¾‹å­ï¼š

![image-20231016181815742](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016181815742.png)

![image-20231016181827354](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016181827354.png)

![image-20231016181838883](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016181838883.png)



### 9.defineOptions

ä¸ºä»€ä¹ˆè¦æœ‰è¿™ä¸ªAPI

![image-20231016182016433](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016182016433.png)



ä¿©ä¸ªscriptä¸å¤Ÿä¼˜é›…

![image-20231016182104457](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016182104457.png)

![image-20231016182208899](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016182208899.png)



ä½¿ç”¨defineOptions

![image-20231016182403655](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016182403655.png)



#### 1.è¡¥å…… defineSlots

ä½œç”¨åŸŸæ’æ§½æ˜¯ç»™æ’æ§½ä¼ å‚çš„ä¸€ç§è¯­æ³•

![image-20231016183254273](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016183254273.png)

åœ¨tsä¸­ä½¿ç”¨çš„



### 10.defineModel

vue2ä¸­çˆ¶å­ç»„ä»¶ç»‘v-modelæ—¶æ˜¯ :valueå’Œ@inputç»„åˆ  åœ¨vue3æ”¹ä¸º ï¼šmodelValue å’Œ @updateï¼šmodelValueç»„åˆ

![image-20231016185605877](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016185605877.png)

ä½¿ç”¨ä¾‹å­

![image-20231016185628307](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016185628307.png)

![image-20231016185647636](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016185647636.png)

ç”±äºè¿˜æ˜¯æ–°å±æ€§ï¼Œéœ€è¦é…ç½®vite.config.js

![image-20231016185734803](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016185734803.png)





#### 1.å¦‚æœæ²¡æœ‰defineModelçš„çˆ¶å­æ•°æ®åŒå‘ç»‘å®š

çˆ¶ç»„ä»¶

![image-20231016190908397](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016190908397.png)

å­ç»„ä»¶å†™æ³•1

![image-20231016190938429](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016190938429.png)

å­ç»„ä»¶å†™æ³•2 ç®€ä¾¿

![image-20231016191148037](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016191148037.png)

**defineModelçœå»äº†æ¥æ”¶propsä»¥åŠæäº¤emitï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å€¼å’Œä¿®æ”¹å€¼**





## 4.pinia

![image-20231016192832444](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016192832444.png)

piniaçš„actionså¯ä»¥ç›´æ¥æ”¯æŒå¼‚æ­¥ä¿®æ”¹stateï¼Œéå¸¸æ–¹ä¾¿ã€‚æ—¢å¯ä»¥é€‰é¡¹å¼ä¹Ÿå¯ä»¥ç»„åˆå¼



### 1.æ‰‹åŠ¨æ·»åŠ pinia

![image-20231016193637772](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016193637772.png)

![image-20231016193601327](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016193601327.png)

å¦‚æœvue2è¦ç”¨ä¹Ÿå¯ä»¥ï¼Œè¦é…ç½®ä¸€ä¸‹



### 2.åŸºæœ¬è¯­æ³•

![image-20231016193802557](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016193802557.png)

![image-20231016193821603](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016193821603.png)

**å¸¸ç”¨çš„ç»„åˆå¼å†™æ³•ï¼Œå’Œé¡¹ç›®ç¼–ç ç»Ÿä¸€**

![image-20231016194023198](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016194023198.png)



#### 1.é€šè¿‡defineStoreåˆ›å»ºä»“åº“

æ¯ä¸ªä»“åº“äº’ç›¸ç‹¬ç«‹ï¼Œä½†æ˜¯å¯ä»¥è·¨ä»“åº“è®¿é—®çš„ï¼Œæ™®é€šå‡½æ•°å°±æ˜¯actionã€‚

![image-20231016194222182](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016194222182.png)

![image-20231016194331791](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016194331791.png)

**åœ¨ç»„ä»¶ä¸­ä½¿ç”¨**

![image-20231016194411580](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016194411580.png)



**å®Œæ•´ä¾‹å­**

![image-20231016194751991](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016194751991.png)



#### 2.å¼‚æ­¥å¤„ç†

![image-20231016194919567](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016194919567.png)



å’Œæ­£å¸¸å®šä¹‰å¼‚æ­¥å‡½æ•°ä¸€æ¨¡ä¸€æ ·

![image-20231016195344525](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016195344525.png)

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨Storeä¹‹å‰(æ²¡æœ‰ä»»ä¸€ç»„ä»¶å¼•ç”¨)ï¼Œstoreå®ä¾‹æ˜¯ä¸ä¼šè¢«åˆ›å»ºçš„ã€‚



### 3.storeToRefs

**æˆ‘ä»¬ä¸è¦å¯¹ä»“åº“è¿›è¡Œè§£æ„ï¼Œå¦åˆ™ä¼šå¤±å»æ•°æ®çš„å“åº”æ€§ï¼Œéœ€è¦è¿›è¡Œå¤„ç†**

![image-20231016195458456](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016195458456.png)

**è¿›è¡Œå¤„ç†**

![image-20231016195538698](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016195538698.png)

**åŸå› **

storeåœ¨åº•å±‚æ˜¯ä¸€ä¸ªç”¨reactiveåŒ…è£…çš„å¯¹è±¡ï¼Œreactiveåº•å±‚å®ç°çš„æ˜¯proxyå¯¹è±¡ï¼Œproxyå¯¹è±¡åªèƒ½ç›‘è§†å½“å‰è¿™ä¸ªå¯¹è±¡ï¼Œå¦‚æœè§£æ„ä»¥åï¼Œç›¸å½“äºæ˜¯ç”¨äº†å‡ ä¸ªç‹¬ç«‹çš„å˜é‡æ¥å­˜æ”¾proxyå¯¹è±¡ä¸­çš„å‡ ä¸ªå±æ€§ï¼Œè¿™æ ·å°±å¤±å»äº†å“åº”æ€§ã€‚



**å®é™…åº”ç”¨**

![image-20231016200344001](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016200344001.png)

`å¦‚æœæ˜¯æ•°æ®å°±ç”¨storeToRefsåŒ…è£…æˆå“åº”å¯¹è±¡ï¼Œæ–¹æ³•ä¸éœ€è¦å“åº”ï¼Œç›´æ¥è§£æ„`

**æ ¹æ®æˆ‘çš„æ¨ç†ï¼Œè¿™ä¸ªstoreToRefsä¼šæœ‰ä¸€ä¸ªå±æ€§å’Œä»“åº“è¿›è¡Œå…³è”ï¼Œç¡®ä¿æ‰€æœ‰æ•°æ®çš„ä¸€è‡´æ€§ï¼Œå®ƒåŒ…çš„å¯¹è±¡åº”è¯¥æ˜¯æ•°æ®+è¯¥æ•°æ®å¼•ç”¨çš„ä»“åº“**





### 4.piniaæŒä¹…åŒ–

åœ¨ä»¥å‰ä½¿ç”¨vuexçš„æ—¶å€™ï¼ŒæŒä¹…åŒ–ä¹ æƒ¯ä¸Šéœ€è¦æˆ‘ä»¬è‡ªå·±å°è£…å‡½æ•°ï¼Œç”¨localstorageæ¥æŒä¹…åŒ–æ•°æ®ï¼Œè¿™æ ·å¤ªéº»çƒ¦äº†ã€‚å…¶å®æœ‰æ’ä»¶ï¼Œç”¨çš„å°‘ã€‚

![image-20231016201022133](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016201022133.png)

**ä»‹ç»**

![image-20231016200913197](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016200913197.png)

**å¯¼å…¥**

![image-20231016201058771](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016201058771.png)

![image-20231016201201031](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016201201031.png)

**ä½¿ç”¨**

![image-20231016201242325](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016201242325.png)

![image-20231016201300011](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016201300011.png)



**æœ¬åœ°é”®åå°±æ˜¯ä»“åº“å**

![image-20231016201438886](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016201438886.png)

å¯ä»¥ä¿®æ”¹é”®å

![image-20231016201527292](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016201527292.png)

![image-20231016201548266](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016201548266.png)

**ä¹Ÿå¯ä»¥æŠŠé»˜è®¤çš„localstorgeæ¢æˆsessionstorege**

**ä¹Ÿå¯ä»¥æŒ‡å®šä»“åº“ä¸­çš„å“ªäº›æ•°æ®éœ€è¦è¢«æŒä¹…åŒ–**

![image-20231016201808850](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016201808850.png)

**æ€»ç»“**

![image-20231016201859961](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231016201859961.png)



## 5.vue3å¤§äº‹ä»¶ç®¡ç†ç³»ç»Ÿé¡¹ç›®

![image-20231018160832884](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018160832884.png)



### 1.pnpmåŒ…ç®¡ç†å™¨

**ä½¿ç”¨æ—¶ä¸è¦ç›´æ¥åˆ›å»ºåœ¨æ ¹ç›®å½•**

![image-20231018161220392](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018161220392.png)

ç¾åŒ–ä»£ç è§„èŒƒ

![image-20231018161639966](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018161639966.png)



### 2.åˆ›å»ºé¡¹ç›®

![image-20231018161852673](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018161852673.png)

pnpm formatæ˜¯å€ŸåŠ© Prettierå¯¹ä»£ç è¿›è¡Œæ ¼å¼åŒ–

#### 1.é…ç½®ä»£ç é£æ ¼

ç°åœ¨çš„é¡¹ç›®éƒ½ç”¨eslintæ­é…prettieræ¥è¿›è¡Œä»£ç è§„èŒƒå’Œä»£ç ç¾åŒ–

![image-20231018163756938](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018163756938.png)

.eslintrc.cjs

```js
/* eslint-env node */
require('@rushstack/eslint-patch/modern-module-resolution')

module.exports = {
  root: true,
  extends: [
    'plugin:vue/vue3-essential',
    'eslint:recommended',
    '@vue/eslint-config-prettier/skip-formatting'
  ],
  parserOptions: {
    ecmaVersion: 'latest'
  },
  // é¢å¤–çš„é…èµ„
  rules: {
    // prettierä¸“æ³¨äºç¾åŒ–ä»£ç  æ›´æ˜“äºè§‚çœ‹
    // é…ç½®ç”Ÿæ•ˆ
    // 1.ç¦ç”¨vscodeæ ¼å¼åŒ–æ’ä»¶ prettier  å…³é—­format on save
    // 2.å®‰è£…Eslintæ’ä»¶,å¹¶é…ç½®ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤ åœ¨vscode setiings.json
    'prettier/prettier': [
      'warn',
      {
        singleQuote: true, // å•å¼•å·
        semi: false, // æ— åˆ†å·
        printWidth: 80, // æ¯è¡Œå®½åº¦è‡³å¤š80å­—ç¬¦
        trailingComma: 'none', // ä¸åŠ å¯¹è±¡|æ•°ç»„æœ€åé€—å·
        endOfLine: 'auto' // æ¢è¡Œç¬¦å·ä¸é™åˆ¶ï¼ˆwin mac ä¸ä¸€è‡´ï¼‰
      }
    ],
    // Eslint å…³æ³¨äºè§„èŒƒï¼Œä¸ç¬¦åˆè§„èŒƒä¼šæŠ¥é”™
    'vue/multi-word-component-names': [
      'warn',
      {
        ignores: ['index'] // vueç»„ä»¶åç§°å¤šå•è¯ç»„æˆï¼ˆå¿½ç•¥index.vueï¼‰
      }
    ],
    'vue/no-setup-props-destructure': ['off'], // å…³é—­ props è§£æ„çš„æ ¡éªŒ(å› ä¸ºè§£æ„ä¼šä¸¢å¤±å“åº”)
    // ğŸ’¡ æ·»åŠ æœªå®šä¹‰å˜é‡é”™è¯¯æç¤ºï¼Œcreate-vue@3.6.3 å…³é—­ï¼Œè¿™é‡ŒåŠ ä¸Šæ˜¯ä¸ºäº†æ”¯æŒä¸‹ä¸€ä¸ªç« èŠ‚æ¼”ç¤ºã€‚
    'no-undef': 'error'
  }
}
```

vscodeè®¾ç½®é…ç½®

![image-20231018163918841](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018163918841.png)

![image-20231018163943814](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018163943814.png)

vscodeçš„prettieræ’ä»¶ä¸€èˆ¬åœ¨éå·¥ç¨‹åŒ–çš„é¡¹ç›®ä¸­æ‰ç”¨ï¼Œæ­£å¼çš„é¡¹ç›®éƒ½ç”¨åˆ›å»ºå‡ºæ¥æ—¶å®‰è£…çš„prettierç¬¬ä¸‰æ–¹åŒ…ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç¦ç”¨ã€‚



#### 2.åŸºäºHuskyçš„ä»£ç æ£€æŸ¥å·¥ä½œæµ

**å½“æˆ‘ä»¬æ²¡æœ‰å¤„ç†åˆ°é¡¹ç›®çš„æŠ¥é”™ï¼Œè€Œæˆ‘ä»¬ç¡®ç›´æ¥å‘ä»“åº“æäº¤ï¼Œè¿™æ ·æ˜æ˜¾æ˜¯ä¸å¯ä»¥çš„ï¼Œå¯¼è‡´ä»“åº“ä¸€å †æŠ¥é”™ã€‚**

**husky æ˜¯ä¸€ä¸ª git hooks å·¥å…·  ( gitçš„é’©å­å·¥å…·ï¼Œå¯ä»¥åœ¨ç‰¹å®šæ—¶æœºæ‰§è¡Œç‰¹å®šçš„å‘½ä»¤ )ï¼Œä»–å¯ä»¥åœ¨æäº¤çš„æ—¶å€™å¸®æˆ‘ä»¬æ£€æŸ¥**

##### 1.å…¨é‡æ£€æŸ¥

**è¿™ç§æ£€æŸ¥æ–¹å¼æ˜¯å¯¹æ•´ä¸ªé¡¹ç›®æ‰€æœ‰æ–‡ä»¶è¿›è¡Œæ£€æŸ¥ï¼Œè€—æ—¶ï¼Œè€Œä¸”å½“ä½ æ˜¯ä»ä»“åº“ä¸­ä¸‹è½½çš„é¡¹ç›®ï¼Œéš¾å…ä¼šæœ‰å†å²åŸå› æŠ¥é”™ï¼Œæˆ‘ä»¬ä¸å¤„ç†æäº¤ä¸äº†ã€‚**

![image-20231018165421199](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018165421199.png)

pnpm dlx husky-init && pnpm install

![image-20231018165827571](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018165827571.png)

æˆ‘ä»¬å®‰è£…Eslintæ—¶åœ¨package.jsonä¼šè‡ªåŠ¨æ·»åŠ ä¸€è¡Œå‘½ä»¤ï¼Œæ²¡æœ‰å°±è‡ªå·±åŠ 

![image-20231018165935149](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018165935149.png)

![image-20231018170024559](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018170024559.png)

æ­¤æ—¶æ‰§è¡Œgit add.   git commit -m 'first'  ä¼šæç¤ºæˆ‘ä»¬æœ‰æŠ¥é”™

![image-20231018170158424](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018170158424.png)



##### 2.æš‚å­˜åŒºEslintæ ¡éªŒ

å…¨é‡æäº¤æ˜¯ç›´æ¥å¾€ä»“åº“æäº¤ï¼Œä½†æ˜¯è¿™éœ€è¦ä½ æ£€æŸ¥æ‰€æœ‰çš„æŠ¥é”™ï¼Œå¦‚æœä½ ä»ä»“åº“ä¸‹è½½çš„æœ‰æŠ¥é”™ï¼Œä½ è¿˜è¦å…ˆè§£å†³åœ¨æäº¤ï¼Œæ•ˆç‡å¤ªæ…¢äº†ï¼Œæˆ‘ä»¬é€šè¿‡æš‚å­˜åŒºåªè¦å…ˆä¿è¯å½“å‰æˆ‘ä»¬å†™çš„æ˜¯æ­£ç¡®å³å¯ï¼Œå†å²é—®é¢˜ä»¥ååœ¨å¤„ç†ã€‚

å°±æ˜¯æˆ‘ä»¬ä¸‹è½½ä»¥ååŠ¨è¿‡çš„ä»£ç ï¼Œæœ‰æ›´æ–°æ‰ä¼šå»æ ¡éªŒã€‚

![image-20231018171208276](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018171208276.png)

![image-20231018171227176](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018171227176.png)



#### 3.è°ƒæ•´é¡¹ç›®ç›®å½•

![image-20231018171522528](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018171522528.png)



ä¿®æ”¹è¿‡å å®‰è£…scss å¼•å…¥main.scssè¿›å…¥main.js

![image-20231018172340821](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018172340821.png)

4.Vue-router4

![image-20231018201902567](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018201902567.png)

vue3ä¸èƒ½åœ¨compositionApiä¸­ç”¨thisäº†

![image-20231018202407080](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018202407080.png)



![image-20231018202552583](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018202552583.png)

æœ‰äº›ç½‘ç«™éœ€è¦åœ¨åŒ…ä¸€å±‚åœ°å€ ä¾‹å¦‚ 127.0.0.1/jd/xxx  æˆ‘ä»¬å°±å¯ä»¥åœ¨baseä¸­ç›´æ¥é…ç½®

![image-20231018202717098](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018202717098.png)

å¯ä»¥é€šè¿‡viteçš„ç¯å¢ƒå˜é‡æ‹¿åˆ°ä¸€äº›å€¼

![image-20231018202746365](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018202746365.png)



#### 4.å¼•å…¥Element Plus

![image-20231018203546419](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018203546419.png)

**ä»–è¿™ä¸ªæŒ‰éœ€å¯¼å…¥çš„æ’ä»¶é…ç½®å®Œä»¥ååŠŸèƒ½å°±å¾ˆå¼ºå¤§ï¼Œä¸ç”¨åœ¨åƒVant-UIè¦å¯¼å…¥ï¼Œè€Œæ˜¯å¯ä»¥åœ¨vueç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨ï¼Œè¿åŒcomponentsä¸‹çš„æ–‡ä»¶ä¹Ÿä¼šæ³¨å†Œä¸ç”¨å¯¼å…¥å°±å¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯åˆ«çš„æ¨¡å—è¿˜æ˜¯è¦å¯¼å…¥ä¸€ä¸‹æ‰å¯ä»¥ç”¨**

![image-20231029225940243](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231029225940243.png)

æˆ‘ä»¬æŒ‰éœ€å¯¼å…¥ååœ¨ç»„ä»¶é‡Œåœ¨æ‰‹åŠ¨å¯¼å…¥æ—¶å°±ä¼šæŠ¥é”™,ä½†æ˜¯å¦‚æœè®¾ç½®äº†ESlint æˆ‘ä»¬è¦å»é…ç½®ä¸€ä¸ªglobalsä¸ç„¶ä¼šæ˜¾ç¤ºæŠ¥é”™ï¼Œå› ä¸ºeslintä¸çŸ¥é“å·²ç»æŒ‰éœ€å¯¼å…¥äº†

![image-20231029230044654](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231029230044654.png)





#### 5.æ„å»ºç”¨æˆ·ä»“åº“å’ŒpiniaæŒä¹…åŒ–

![image-20231018211510257](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018211510257.png)



**é…ç½®index.jsç»Ÿä¸€å¯¼å‡º**

æ”¹é€ main.js

![image-20231018211549620](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018211549620.png)

åœ¨sotreä¸­æ–°å»ºmodulesæ–‡ä»¶å¤¹,indexä½œä¸ºå¤§å®¶çš„å‡ºå£

![image-20231018211641533](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018211641533.png)

ç›¸å½“äºæˆ‘ä»¬å€ŸåŠ©indexå¯¼å‡ºäº†userï¼Œexport * from ' '  è¿™ç§å†™æ³•ä¸ä¼šæŠŠuserçš„é»˜è®¤å¯¼å‡ºä¸€èµ·å¯¼å‡ºï¼Œåªä¼šå¯¼å‡ºæŒ‰éœ€å¯¼å‡ºçš„

**åŸç†**

![image-20231018211853305](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018211853305.png)

æ‰€ä»¥é¡µé¢å¯¼å…¥ä½¿ç”¨çš„æ—¶å€™ç”¨import

![image-20231018211717637](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018211717637.png)



#### 6.axiosé…ç½®

![image-20231018220116898](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018220116898.png)

![image-20231018220136799](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018220136799.png)

é…ç½®request.js

```js
import axios from 'axios'
// å¯¼å…¥token
import { useUserStore } from '@/store'
// å¯¼å…¥æç¤ºæ¡†
import { ElMessage } from 'element-plus'
// å¯¼å…¥router
import router from '@/router'

const baseURL = 'http://big-event-vue-api-t.itheima.net'

const instance = axios.create({
  // TODO 1. åŸºç¡€åœ°å€ï¼Œè¶…æ—¶æ—¶é—´
  baseURL,
  // è¶…æ—¶æ—¶é—´
  timeout: 10000
})

// è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨éƒ½æ˜¯è¦æ ¹æ®æ¥å£æ–‡æ¡£å’Œaxioså®ä¾‹é…ç½®çš„
// è¯·æ±‚æ‹¦æˆªå™¨
instance.interceptors.request.use(
  (config) => {
    // TODO 2. æºå¸¦token
    const userStore = useUserStore()
    if (userStore.token) {
      // å‘é€è¯·æ±‚æºå¸¦è¯·æ±‚å¤´
      config.headers.Authorization = userStore.token
    }
    return config
  },
  (err) => Promise.reject(err)
)

// å“åº”æ‹¦æˆªå™¨
instance.interceptors.response.use(
  (res) => {
    // TODO 4. æ‘˜å–æ ¸å¿ƒå“åº”æ•°æ®
    if (res.data.code === 0) {
      // å¤„ç†æˆåŠŸ
      return res
    }

    // TODO 3. å¤„ç†ä¸šåŠ¡å¤±è´¥
    // å¤„ç†ä¸šåŠ¡å¤±è´¥ï¼Œç»™å‡ºæç¤ºï¼ŒæŠ›å‡ºé”™è¯¯
    ElMessage.error(res.data.message || 'æœåŠ¡å¼‚å¸¸')
    return Promise.reject(res.data)
  },
  (err) => {
    // TODO 5. å¤„ç†401é”™è¯¯ ç‰¹æ®Šé”™è¯¯(æƒé™ä¸è¶³æˆ–tokenè¿‡æœŸ) => æ‹¦æˆªåˆ°ç™»å½•
    // å¦‚æœ401çŠ¶æ€ç å­˜åœ¨å°±æ˜¯é”™è¯¯
    if (err.response?.status === 401) {
      router.push('/login')
    }

    // æ•è·é”™è¯¯çš„å¤±è´¥-> é»˜è®¤çš„é”™è¯¯ï¼Œåªè¦ç»™æç¤º
    ElMessage.error(err.response.data.message || 'æœåŠ¡å¼‚å¸¸')
    return Promise.reject(err)
  }
)

// axioså®ä¾‹é»˜è®¤å¯¼å‡º
export default instance
// åŸºåœ°å€é»˜è®¤å¯¼å‡º
export { baseURL }
```



#### 7.æ•´ä½“è·¯ç”±è®¾è®¡

![image-20231018220347125](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018220347125.png)

![image-20231018220440255](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231018220440255.png)



**åœ¨Appé…ç½®ä¸€çº§è·¯ç”±å‡ºå£ï¼Œæœ‰ä¿©ä¸ªä¸€çº§è·¯ç”±**

**åœ¨LayoutContaineré…ç½®äºŒçº§è·¯ç”±å‡ºå£,æœ‰äº”ä¸ªäºŒçº§å‡ºå£**

```js
import { createRouter, createWebHistory } from 'vue-router'

const router = createRouter({
  // WebHistory å°±æ˜¯Vue2çš„historyæ¨¡å¼  è¿˜æœ‰ä¸€ç§hashæ¨¡å¼
  history: createWebHistory(import.meta.env.BASE_URL),
  routes: [
    // ä¸€çº§è·¯ç”±2ä¸ª ç™»å½•é¡µ(æ³¨å†Œ)  é¦–é¡µçš„æ¶å­
    {
      // ç™»å½•  
      path: '/login',
      component: () => import('@/views/login/LoginPage.vue')
    },
    // æœ¬é¡¹ç›®æ‰€æœ‰äºŒçº§è·¯ç”±å‡ºå£éƒ½åœ¨é¦–é¡µæ¶å­
    {
      path: '/',
      component: () => import('@/views/layout/LayoutContainer.vue'),
      // è®¿é—®é¦–é¡µé‡å®šå‘åˆ°è¿™ ä¸ç„¶å°±æ˜¯å±•ç¤ºä¸€ä¸ªç©ºæ¶å­
      redirect: '/article/manage',
      children: [
        {
          // æ–‡ç« ç®¡ç†  
          path: '/article/manage',
          component: () => import('@/views/article/ArticleManage.vue')
        },
        {
          // é¢‘é“ç®¡ç†  
          path: '/article/channel',
          component: () => import('@/views/article/ArticleChannel.vue')
        },
        {
          // ä¸ªäººè¯¦æƒ…  
          path: '/user/profile',
          component: () => import('@/views/user/UserProfile.vue')
        },
        {
          // æ›´æ¢å¤´åƒ  
          path: '/user/avatar',
          component: () => import('@/views/user/UserAvatar.vue')
        },
        {
          // ä¿®æ”¹å¯†ç   
          path: '/user/password',
          component: () => import('@/views/user/UserPassWord.vue')
        }
      ]
    }
  ]
})

export default router
```



### 3.æ­£å¼å¼€å§‹

#### 1.æ³¨å†Œç™»å½•é¡µ

å®‰è£…é¥¿äº†ä¹ˆå›¾æ ‡åº“

```node
pnpm i @element-plus/icons-vue
```

![1697772197806](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/1697772197806.png)

![image-20231029211122337](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231029211122337.png)

![image-20231029211234545](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231029211234545.png)

**åˆ©ç”¨é¥¿äº†ä¹ˆå¸ƒå±€å¿«é€Ÿå®Œæˆå¸ƒå±€**



#### 2.é¥¿äº†ä¹ˆçš„æ³¨å†Œæ ¡éªŒ

![image-20231029220348600](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231029220348600.png)

```bash
1.:modelå’Œ:rulesé…ç½®åœ¨ el-form
2.propé…ç½®åœ¨el-form-item
3.v-modelé…ç½®åœ¨è¡¨å•åŸŸçš„å…·ä½“è¡¨å•é¡¹
```



#### 3.åˆ©ç”¨é¥¿äº†ä¹ˆè¡¨å•è¿›è¡Œæ³¨å†Œæäº¤é¢„æ ¡éªŒ

**åœ¨è¡¨å•æ²¡æœ‰å¡«å†™æ—¶æ˜¯ä¸èƒ½å…è®¸ä»–åƒåå°æäº¤çš„,è¿™æ—¶å€™è¦ç»™æ³¨å†ŒæŒ‰é’®æ³¨å†Œç‚¹å‡»äº‹ä»¶**

è¡¨å•æš´éœ²çš„æ–¹æ³•(æå‰å‡†å¤‡å¥½çš„æ–¹æ³•ï¼Œé€šè¿‡defineExposeæš´éœ²ç»™çˆ¶ç»„ä»¶å¼•ç”¨)

![image-20231029221219235](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231029221219235.png)



å‘èµ·çœŸæ­£çš„è¯·æ±‚

![image-20231029223356307](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231029223356307.png)

é¥¿äº†ä¹ˆä¼šè‡ªå·±æŒ‰éœ€å¯¼å…¥,ä½†æ˜¯è¿™ä¸ªeslintä¸çŸ¥é“ï¼Œæ‰€ä»¥é…ç½®ä¸€ä¸‹å³å¯ã€‚



#### 4.ç™»å½•éªŒè¯

![image-20231030132536842](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231030132536842.png)

![image-20231030132549334](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231030132549334.png)

![image-20231030132606997](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231030132606997.png)



#### 5.é¦–é¡µæ¶å­

##### 1.åˆ©ç”¨é¥¿äº†ä¹ˆå¸ƒå±€å®¹å™¨è¿›è¡Œæ­å»º

é€šè¿‡é¥¿äº†ä¹ˆè¿›è¡Œé¦–é¡µæ¶å­å¸ƒå±€

![image-20231030195705405](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231030195705405.png)

asideä¾§è¾¹æ é€šè¿‡el-menu(å•çº§èœå•)  el-sub-menu(å¤šçº§èœå•)

ä¾‹å­ï¼šå·¦ä¾§å æ»¡çš„å¯¼èˆªæ¡

```vue
<style scoped>
.box {
  height: 100vh;
  background-color: #fff;
}
</style>
<template>
  <el-row class="tac">
    <el-col :span="4" class="box">
      <h5 class="mb-2">Default colors</h5>
      <!-- æ•´ä¸ªèœå•ç»„ä»¶ -->
      <el-menu
        default-active="2"
        class="el-menu-vertical-demo"
        @open="handleOpen"
        @close="handleClose"
      >
        <!-- å¤šçº§èœå• -->
        <el-sub-menu index="1">
          <template #title>
            <el-icon><location /></el-icon>
            <span>Navigator One</span>
          </template>
          <!-- groupåˆ›å»ºä¸€ä¸ªåˆ†ç»„èœå• -->
          <!-- åŒ…è£¹äº†ä¿©é¡¹ -->
          <el-menu-item-group title="Group One">
            <el-menu-item index="1-1">item one</el-menu-item>
            <el-menu-item index="1-2">item two</el-menu-item>
          </el-menu-item-group>
          <el-menu-item-group title="Group Two">
            <el-menu-item index="1-3-1">item three</el-menu-item>
            <!-- åµŒå¥—ä¸€ä¸ªåˆ†ç»„èœå• -->
            <el-menu-item-group index="1-3-2" title="å­åˆ†ç»„">
              <el-menu-item>å­èœå•é¡¹</el-menu-item>
            </el-menu-item-group>
          </el-menu-item-group>
          <!-- åµŒå¥—ä¸€ä¸ªå¤šçº§èœå• -->
          <el-sub-menu index="1-4">
            <template #title>item four</template>
            <el-menu-item index="1-4-1">item one</el-menu-item>
            <el-menu-item index="1-4-2">item two</el-menu-item>
          </el-sub-menu>
        </el-sub-menu>
        <el-menu-item index="2">
          <el-icon><icon-menu /></el-icon>
          <span>Navigator Two</span>
        </el-menu-item>
        <el-menu-item index="3" disabled>
          <el-icon><document /></el-icon>
          <span>Navigator Three</span>
        </el-menu-item>
        <el-menu-item index="4">
          <el-icon><setting /></el-icon>
          <span>Navigator Four</span>
        </el-menu-item>
      </el-menu>
    </el-col>
    <el-col :span="20">1</el-col>
  </el-row>
</template>

<script setup>
// é¥¿äº†ä¹ˆå›¾æ ‡ç»„ä»¶
import {
  Document,
  Menu as IconMenu,
  Location,
  Setting
} from '@element-plus/icons-vue'
const handleOpen = (key, keyPath) => {
  console.log(key, keyPath)
}
const handleClose = (key, keyPath) => {
  console.log(key, keyPath)
}
</script>
```



![image-20231030193729228](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231030193729228.png)



##### 2.ç™»å½•è®¿é—®æ‹¦æˆª

`tip: å¦‚æœç”¨æˆ·æ²¡æœ‰tokenå¹¶ä¸”å‰å¾€è¦éç™»å½•é¡µ,è¦è¿›è¡Œæ‹¦æˆª`

![image-20231030203155795](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231030203155795.png)



##### 3.ç”¨æˆ·åŸºæœ¬ä¿¡æ¯æ¸²æŸ“

![image-20231030204635494](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231030204635494.png)



##### 4.ä¸‹æ‹‰èœå•è®¾ç½®

é€šè¿‡é¥¿äº†ä¹ˆä¸‹æ‹‰èœå•

commandå’ŒhandleCommandç»“åˆå¯ä»¥è®¾ç½®ç‚¹å‡»äº‹ä»¶

![image-20231030205318646](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231030205318646.png)

###### 1.é€€å‡ºåŠŸèƒ½

![image-20231030223042657](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231030223042657.png)

![image-20231030223058107](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231030223058107.png)



#### 6.æ–‡ç« åˆ†ç±»æ¶å­

1.é¡µé¢æ¶å­ç”¨el-card

å°è£…ç¤ºä¾‹

![image-20231030230209384](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231030230209384.png)

å®é™…ä¾‹å­

```vue
<script setup>
// è¯¥ç»„ä»¶éœ€è¦çˆ¶ä¼ å­æ¥æ”¶ä¸€ä¸ªtitle
defineProps({
  // æ¥æ”¶prop
  title: {
    required: true,
    type: String
  }
})
</script>

<template>
  <el-card class="page-container">
    <!--el-card å…·åæ’æ§½æä¾›å¤´éƒ¨-->
    <template #header>
      <div class="header">
        <!--å®šåˆ¶æ ‡é¢˜-->
        <span>{{ title }}</span>
        <!--å®šåˆ¶å³ä¾§æŒ‰é’®-->
        <div class="extra">
          <slot name="extra"></slot>
        </div>
      </div>
    </template>
    <!--é»˜è®¤æ’æ§½ç”¨æ¥å­˜æ”¾é¡µé¢ä¸»ä½“æ•°æ®( // el-card é»˜è®¤æ’æ§½æä¾›å†…å®¹)-->
    <slot></slot>
  </el-card>
</template>

<style lang="scss" scoped>
.page-container {
  // çˆ¶å…ƒç´ çš„å…¨éƒ¨
  min-height: 100%;
  box-sizing: border-box;

  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
}
</style>

```

![image-20231030230338005](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231030230338005.png)



**è¿›è¡Œä½¿ç”¨**

![image-20231030230438774](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231030230438774.png)



```bash
1.å°è£…è¯·æ±‚æ–‡ç« åˆ†ç±»çš„è¯¦æƒ…æ¥å£

2.åˆ©ç”¨el-tableè¿›è¡Œæ•°æ®å±•ç¤º

3.æ·»åŠ ä¸€ä¸ªel-empty
```

![image-20231101210811845](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231101210811845.png)

```vue
<!-- æ–‡ç« ç®¡ç† -->
<script setup>
import PageContainer from '../../components/PageContainer.vue'
import { onMounted, ref } from 'vue'
import { artGetChannelsService } from '@/api/article'
import { Edit } from '@element-plus/icons-vue'
import { Delete } from '@element-plus/icons-vue'
// æ•°æ®åˆ—è¡¨
const channelList = ref([])
// loading
const loading = ref(false)

// è·å–æ–‡ç« è¯¦æƒ…
const getChannelList = async () => {
  // å‘è¯·æ±‚æ—¶æ‰“å¼€loading
  loading.value = true
  const res = await artGetChannelsService()
  channelList.value = res.data.data
  // å…³é—­loading
  loading.value = false
}

onMounted(() => {
  getChannelList()
})

// è®¾ç½®è¡¨æ ¼çš„ç¼–è¾‘æ–¹æ³•
const onEditChannel = (row, $index) => {
  console.log(row, $index)
}
// è®¾ç½®è¡¨æ ¼çš„åˆ é™¤æ–¹æ³•
const onDeleteChannel = (row, $index) => {
  console.log(row, $index)
}
</script>

<template>
  <!-- ä¼ è¿‡å»ä¸€ä¸ªprop -->
  <PageContainer title="æ–‡ç« åˆ†ç±»">
    <template #extra>
      <el-button type="primary">æ·»åŠ åˆ†ç±»</el-button>
    </template>
    <!-- ä¸»ä½“éƒ¨åˆ†
          ä½¿ç”¨äº†el-table :dataæ˜¯æ•°æ®æº heightå›ºå®šè¡¨æ ¼é«˜åº¦
          el-table-column type=index å¯ä»¥è®¾ç½®åºå· labelè®¾ç½®åˆ—å propå¯ä»¥æ¥æ”¶dataä¸­çš„æ•°æ®æ¥æ˜¾ç¤º
          el-table-columnå¯ä»¥ç›´æ¥è‡ªå®šä¹‰åˆ—æ¨¡æ¿ é€šè¿‡slotçš„ä½œç”¨åŸŸæ’æ§½å®ç°çš„
            rowå°±æ˜¯channelListçš„ä¸€é¡¹ $indexè¡¨ç¤ºä¸‹æ ‡
          æœ‰æ—¶å€™è¯·æ±‚å›æ¥æ²¡æœ‰æ•°æ®ï¼Œç”¨el-emptyç©ºçŠ¶æ€æ›´å¥½çœ‹ ä¼šæ˜¾ç¤ºä¸€ä¸ªå›¾ç‰‡  
      -->
    <el-table
      v-loading="loading"
      :data="channelList"
      style="width: 100%"
      height="500"
    >
      <el-table-column type="index" label="åºå·" width="60"></el-table-column>
      <el-table-column prop="cate_name" label="åˆ†ç±»åç§°"></el-table-column>
      <el-table-column prop="cate_alias" label="åˆ†ç±»åˆ«å"></el-table-column>
      <el-table-column label="æ“ä½œ" width="100">
        <template #default="{ row, $index }">
          <el-button
            circle
            type="primary"
            plain
            :icon="Edit"
            @click="onEditChannel(row, $index)"
          ></el-button>
          <el-button
            circle
            plain
            type="danger"
            :icon="Delete"
            @click="onDeleteChannel(row, $index)"
          ></el-button>
        </template>
      </el-table-column>

      <template #empty>
        <el-empty description="æ²¡æœ‰æ•°æ®"></el-empty>
      </template>
    </el-table>
  </PageContainer>
</template>
```



##### ä½¿ç”¨é¥¿äº†ä¹ˆå¼¹å±‚è®¾ç½®æ·»åŠ å’Œç¼–è¾‘å’Œåˆ é™¤æ–¹æ³•

![image-20231101213047359](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231101213047359.png)

é€šè¿‡el-dialogå°è£…æˆ‘ä»¬çš„å¼¹å±‚ç»„ä»¶

![image-20231101213128725](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231101213128725.png)

![image-20231101213145573](https://ttqblogimg.oss-cn-beijing.aliyuncs.com/image-20231101213145573.png)
